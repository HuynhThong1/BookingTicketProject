{"version":3,"sources":["components/ReactSlick/MultipleRowSlick.module.scss","pages/Checkout/Checkout.module.scss","assets/footer-bg.jpg","templates/HomeTemplate/Layout/Footer/Footer.js","Util/setting.js","templates/HomeTemplate/Layout/Header/Header.js","templates/HomeTemplate/HomeTemplate.js","pages/Home/HomeMenu/HomeMenu.js","components/Film/Film.js","redux/actions/types/QuanLyPhimType.js","components/ReactSlick/MultipleRowSlick.js","services/baseService.js","services/QuanLyPhimService.js","redux/actions/QuanLyPhimAction.js","services/QuanLyRapService.js","redux/actions/types/QuanLyRapType.js","redux/actions/QuanLyRapAction.js","redux/actions/types/CarouselType.js","templates/HomeTemplate/Layout/HomeCarousel/HomeCarousel.js","redux/actions/CarouselAction.js","pages/Home/Home.js","pages/Contact/Contact.js","pages/News/News.js","services/QuanLyNguoiDungService.js","redux/actions/types/QuanLyNguoiDungType.js","redux/actions/types/LoadingType.js","redux/actions/LoadingAction.js","redux/actions/QuanLyNguoiDungAction.js","pages/Login/Login.js","pages/Detail/Detail.js","_core/models/ThongTinDatVe.js","services/QuanLyDatVeService.js","redux/actions/types/QuanLyDatVeType.js","redux/actions/QuanLyDatVeAction.js","pages/Checkout/Checkout.js","templates/CheckoutTemplate/CheckoutTemplate.js","templates/UserTemplate/UserTemplate.js","components/Loading/Loading.js","pages/Profile/Profile.js","templates/AdminTemplate/AdminTemplate.js","pages/Admin/Dashboard/Dashboard.js","pages/Admin/Films/Films.js","pages/Admin/User/Users.js","pages/Admin/Showtime/Showtime.js","Images/NoImage.png","pages/Admin/Films/AddNew/AddNew.js","pages/Admin/Films/Edit/Edit.js","pages/Admin/User/AddNew/AddNew.js","pages/Admin/User/Edit/Edit.js","pages/PageError/PageError.js","pages/Admin/UserBooked/UserBooked.js","redux/actions/types/QuanLyLichChieuPhim.js","services/QuanLyLichChieuPhimService.js","redux/actions/QuanLyLichChieuPhimAction.js","pages/Admin/FilmSchedule/FilmsSchedule.js","pages/Checkout/CheckoutMobile.js","pages/Checkout/CheckoutIpad.js","templates/DetailTemplate/DetailTemplate.js","pages/Detail/DetailMobile.js","pages/Detail/DetailIpad.js","App.js","reportWebVitals.js","redux/reducers/CarouselReducer.js","redux/reducers/QuanLyPhimReducer.js","redux/reducers/QuanLyRapReducer.js","redux/reducers/QuanLyNguoiDungReducer.js","_core/models/ThongTinPhongVe.js","redux/reducers/QuanLyDatVeReducer.js","redux/reducers/QuanLyLichChieuPhimReducer.js","redux/reducers/LoadingReducer.js","redux/configStore.js","index.js"],"names":["module","exports","Footer","props","heThongRapChieu","useSelector","state","QuanLyRapReducer","_","map","heThongRap","pick","className","style","backgroundImage","bg","margin","src","alt","to","DOMAIN","GROUPID","USER_LOGIN","ACCESS_TOKEN","TOKEN_CYBERSOFT","Header","pathname","useLocation","headerRef","useRef","userLogin","QuanLyNguoiDungReducer","useState","activepage","setActivePage","ref","onClick","href","HomeOutlined","isEmpty","UserOutlined","HomeTemplate","Component","restProps","useEffect","window","scrollTo","render","propsRoute","paddingTop","TabPane","Tabs","Panel","Collapse","HomeMenu","tabPosition","clickMovie","Swal","fire","icon","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","history","push","createRandomNumber","min","max","Math","floor","random","span","index","tab","logo","onError","e","target","onerror","lstCumRap","cumRap","width","display","hinhAnh","tenCumRap","diaChi","length","slice","danhSachPhim","phim","tenPhim","maPhim","lstLichChieuTheoPhim","lichChieu","localStorage","getItem","maLichChieu","moment","ngayChieuGioChieu","format","expandIconPosition","header","maHeThongRap","lcd","indexs","dsp","indexsss","showArrow","toFixed","fontWeight","paddingBottom","ds","indexssss","Film","url","film","isModalVisible","setIsModalVisible","getWindowDimensions","innerWidth","height","innerHeight","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","getId","match","background","ngayKhoiChieu","danhGia","console","log","trailer","visible","centered","footer","onOk","onCancel","SET_DANH_SACH_PHIM","SET_PHIM_DANG_CHIEU","SET_PHIM_SAP_CHIEU","SET_THONG_TIN_PHIM","SampleNextArrow","right","RightOutlined","fontSize","SamplePrevArrow","left","LeftOutlined","MultipleRowSlick","phimDangChieu","setPhimDangChieu","phimSapChieu","setPhimSapChieu","dispatch","useDispatch","settings","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","rows","nextArrow","prevArrow","responsive","breakpoint","centerPadding","type","marginRight","arrFilm","item","styleSlick","baseService","get","axios","method","headers","post","data","put","delete","quanLyPhimService","layDanhSachBanner","layDanhSachPhim","trim","themPhimUploadHinh","formData","layThongTinPhim","capNhatPhimUpload","xoaPhim","layDanhSachPhimAction","a","content","quanLyRapService","layDanhSachHeThongRap","layThongTinLichChieuPhim","layThongTinHeThongRap","layThongTinCumRap","SET_HE_THONG_RAP_CHIEU","SET_CHI_TIET_PHIM","layThongTinChiTietPhim","id","filmDetail","response","SET_CAROUSEL","contentStyle","color","lineHeight","textAlign","backgroundPosition","backgroundRepeat","backgroundSize","HomeCarousel","arrImg","CarouselReducer","padding","Home","QuanLyPhimReducer","status","Contact","News","quanLyNguoiDungService","dangNhap","thongTinDangNhap","dangKy","thongTinDangKy","layThongTinTaiKhoan","layDanhSachNguoiDung","layDanhSachNguoiDungSearch","tuKhoa","themNguoiDung","thongTinNguoiDung","capNhatNguoiDung","xoaNguoiDung","taiKhoan","layThongNguoiDungTheoTaiKhoan","taikhoan","DANG_NHAP_ACTION","DANG_NHAP_THAT_BAI_ACTION","SET_THONG_TIN_NGUOI_DUNG","SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN","SET_DANH_SACH_NGUOI_DUNG","DISPLAY_LOADING","HIDE_LOADING","displayLoadingAction","hideLoadingAction","dangKyAction","matKhau","results","results1","token","title","location","reload","layThongTinTaiKhoanAction","layThongTinNguoiDungTheoTaiKhoanAction","thongTinNguoiDungTheoTaiKhoan","layDanhSachNguoiDungAction","isSearch","danhSachNguoiDung","message","themNguoiDungAction","thongTinUser","capNhatNguoiDungAction","Login","slideUp","setSlideUp","setLoginFail","errors","formik","useFormik","initialValues","onSubmit","values","action","maLoaiNguoiDung","goBack","formikRegister","email","soDt","maNhom","hoTen","validationSchema","Yup","shape","required","matches","classLogin","classRegister","handleSubmit","name","onChange","handleChange","onBlur","handleBlur","touched","borderRadius","Detail","params","minHeight","effectColor","blur","moTa","classNam","disabled","allowHalf","defaultValue","marginLeft","tenHeThongRap","cumRapChieu","lichChieuPhim","ThongTinDatVe","danhSachVe","quanLyDatVeService","layChiTietPhongVe","malichChieu","datVe","thongTinDatVe","taoLichChieu","thongTinLichChieu","SET_CHI_TIET_PHONG_VE","DAT_VE","DAT_VE_HOAN_TAT","CHUYEN_TAB","CHANGE_TAB_ACTIVE","DAT_GHE","layChiTietPhongVeAction","chiTietPhongVe","datVeAction","thongtinDatVe","getState","connection","invoke","datGheAction","ghe","gheDuocChon","danhSachGheDangDat","QuanLyDatVeReducer","JSON","stringify","Checkout","danhSachGheKhachDat","on","dsGheKhachDat","arrGheKhachDat","filter","reduce","arrGhe","parse","danhSachGhe","uniqBy","payload","clearGhe","event","thongTinPhim","classBtnDatVe","classGheVip","loaiGhe","classGheDaDat","daDat","classGheDangDat","findIndex","gheDangDat","maGhe","classGheDaDuocDat","taiKhoanNguoiDat","classGheKhachDat","gheKD","stt","tongTien","giaVe","toLocaleString","tenRap","ngayChieu","gioChieu","overflow","sortBy","tenGhe","soDT","CheckoutTab","number","menu","Item","removeItem","operations","overlay","placement","arrow","UserProfile","substr","tabActive","tabBarExtraContent","defaultActiveKey","activeKey","key","KetQuaDatVe","ticket","first","ngayDat","thoiLuongPhim","reverse","renderTicketItem","styled","div","CheckoutTemplate","useWindowSize","renderComponent","ComponentMobile","ComponentIpad","UserTemplate","Loading","isLoading","LoadingReducer","position","top","backgroundColor","justifyContent","alignItems","zIndex","Profile","isLichSuDatVeModal","setIsLichSuDatVeModal","locNguoiDung","user","loaiNguoiDung","enableReinitialize","EditOutlined","HistoryOutlined","ImportOutlined","for","value","htmlType","Option","Select","SubMenu","Menu","Layout","Content","Sider","AdminTemplate","collapsed","setCollapsed","onCollapse","path","split","alert","username","ListRouter","collapsible","theme","defaultSelectedKeys","mode","PieChartOutlined","FileOutlined","DesktopOutlined","InsertRowBelowOutlined","size","v","Dashboard","Search","Input","AudioOutlined","Films","arrFilmDefault","columns","dataIndex","sorter","b","sortDirections","maxHeight","age","toLowerCase","DeleteOutlined","setItem","CalendarOutlined","orientation","placeholder","onSearch","enterButton","dataSource","pagination","filters","extra","rowKey","scroll","x","Users","NguoiDung","Showtime","maRap","setState","handleChangeHeThongRap","handleChangeCumRap","setFieldValue","labelCol","wrapperCol","onSubmitCapture","xs","xl","tenphim","label","options","htr","convertSelectHTR","cRap","maCumRap","convertSelectCR","showTime","AddNew","componentSize","setComponentSize","imgSrc","setImgSrc","dangChieu","sapChieu","hot","FormData","append","themPhimUploadHinhAction","handleChangeSwitch","handleChangeFile","file","files","reader","FileReader","readAsDataURL","onload","layout","onValuesChange","order","noImage","Group","Button","accept","danger","Edit","memo","capNhatPhimUploadAction","checked","resetForm","handleChangeLoaiUser","rules","Password","PageError","subTitle","UserBooked","listChar","char","setNameSeat","i","h","indexSeat","j","NestedTable","with","toString","replace","loading","bordered","expandable","expandedRowRender","row","date","upgradeNum","dataEx","datas","dataA","quanLyLichPhimService","getInfoFilmSheduleAdmin","getInfoFilmSheduleByCinema","listFilmShedule","FilmsSchedule","QuanLyLichChieuPhimReducer","listFilm","g","fetchData","fixed","sticky","CheckoutMobile","CloseOutlined","CheckoutIpad","DetailTemplate","DetailMobile","flex","paddingLeft","DetailIpad","createBrowserHistory","App","exact","FilmShedule","AddNewUser","EditUser","parth","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","stateDefault","maBanner","biDanh","ThongTinPhim","listFilmSheduleCinema","rootReducer","combineReducers","accessToken","danhSachGheCapNhat","splice","arrayListFilmShedule","store","createStore","applyMiddleware","thunk","signalR","withUrl","configureLogging","Information","build","start","ReactDOM","document","getElementById","catch"],"mappings":"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","file":"static/js/main.0709109a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"slick-prev\":\"MultipleRowSlick_slick-prev__34nWw\",\"slick-next\":\"MultipleRowSlick_slick-next__1qFjv\",\"width-item\":\"MultipleRowSlick_width-item__hxs_5\",\"active_Film\":\"MultipleRowSlick_active_Film__12i8_\",\"none_active_Film\":\"MultipleRowSlick_none_active_Film__5eebB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trapezoid\":\"Checkout_trapezoid__1dZ6f\",\"ghe\":\"Checkout_ghe__1novw\",\"gheDaDat\":\"Checkout_gheDaDat__3yF_3\",\"getDangDat\":\"Checkout_getDangDat__1hVDv\",\"gheVip\":\"Checkout_gheVip__3QOzK\"};","export default __webpack_public_path__ + \"static/media/footer-bg.67e95f05.jpg\";","import React from \"react\";\r\nimport { useSelector } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport { Link } from \"react-router-dom\";\r\nimport bg from '../../../../assets/footer-bg.jpg';\r\nimport './Footer.scss'\r\n\r\n\r\nexport default function Footer(props) {\r\n\r\n  const { heThongRapChieu } = useSelector(state => state.QuanLyRapReducer);\r\n\r\n  const arrHeThongRap = _.map(heThongRapChieu, (heThongRap) => {\r\n    return _.pick(heThongRap, ['maHeThongRap', 'tenHeThongRap', 'logo']);\r\n  })\r\n\r\n  return (\r\n\r\n    <div className=\"footer\" style={{ backgroundImage: `url(${bg})` }}>\r\n      <div className=\"footer__content \" style={{ margin: 'auto' }}>\r\n        <div className=\"footer__content__logo\">\r\n          <div className=\"logo\">\r\n            <img src=\"https://i.imgur.com/lC22izJ.png\" alt=\"\" />\r\n            <Link to=\"/\">Cybersoft</Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer__content__menus\">\r\n          <div className=\"footer__content__menu\">\r\n            <Link to=\"/\">Trang Chủ</Link>\r\n            <Link to=\"/\">Liên Hệ</Link>\r\n            <Link to=\"/\">Dịch Vụ</Link>\r\n            <Link to=\"/\">Thông Tin</Link>\r\n          </div>\r\n          <div className=\"footer__content__menu\">\r\n            <Link to=\"/\">Thỏa Thuận Sử Dụng</Link>\r\n            <Link to=\"/\">Quy Chế Hoạt Động</Link>\r\n            <Link to=\"/\">Quyền Lợi Thành Viên</Link>\r\n            <Link to=\"/\">Chính Sách Bảo Mật</Link>\r\n          </div>\r\n          <div className=\"footer__content__menu\">\r\n            <Link to=\"/\">FAQ</Link>\r\n            <Link to=\"/\">Brand Guidelines</Link>\r\n            <Link to=\"/\">Top IMDB</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const DOMAIN = 'https://movienew.cybersoft.edu.vn'\r\nexport const GROUPID = 'GP01';\r\nexport const  USER_LOGIN = 'USER_LOGIN';\r\nexport const ACCESS_TOKEN = 'accessToken';\r\n\r\n\r\nexport const TOKEN_CYBERSOFT = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5Mb3AiOiJGcm9udCBFbmQgNjYiLCJIZXRIYW5TdHJpbmciOiIzMC8wMS8yMDIyIiwiSGV0SGFuVGltZSI6IjE2NDM1MDA4MDAwMDAiLCJuYmYiOjE2MTc1NTU2MDAsImV4cCI6MTY0MzY0ODQwMH0.ufODEd--n4Nm91XfL2RnIB9E1_kvZ4Dy1dyDst3wKuE';","import _, { set } from \"lodash\";\r\nimport React, { Fragment, useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, NavLink, useLocation } from \"react-router-dom\";\r\nimport { history } from \"../../../../App\";\r\nimport { ACCESS_TOKEN, USER_LOGIN } from \"../../../../Util/setting\";\r\nimport './Header.scss';\r\nimport { HomeOutlined, UserOutlined } from '@ant-design/icons';\r\n\r\nexport default function Header(props) {\r\n\r\n\r\n  const { pathname } = useLocation();\r\n  const headerRef = useRef(null);\r\n\r\n  const { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n  const [sidebar, setSidebar] = useState(false);\r\n  const [activepage, setActivePage] = useState(1);\r\n\r\n  const showSidebar = () => setSidebar(!sidebar);\r\n  return (\r\n\r\n    <div ref={headerRef} className=\"header shrink\">\r\n      <div className=\"header__wrap\">\r\n        <div className=\"logo\">\r\n\r\n          <Link to=\"/\" className=\"text-white hover:text-yellow-400\"><img src=\"https://cyberlearn.vn/wp-content/uploads/2020/03/cyberlearn-min-new-opt2.png\" alt=\"cybersoft.edu.vn\" /></Link>\r\n        </div>\r\n        <ul className=\" mt-5 mr-10 items-stretch hidden space-x-3 lg:flex\">\r\n          <li className=\"flex\">\r\n            <NavLink to=\"/\" onClick={() => { setActivePage(1) }}\r\n              className={`flex items-center  border-b-2 px-4 border-transparent text-black ${activepage === 1 ? `text-yellow-400` : ''} hover:text-yellow-400 duration-300\" activeClassName=\"border-b-2 border-white`}\r\n            >\r\n              Trang Chủ\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"flex\">\r\n            <a href=\"#phim\"\r\n              className={`flex items-center  border-b-2 px-4 border-transparent text-black ${activepage === 2 ? `text-yellow-400` : ''} hover:text-yellow-400 duration-300\" activeClassName=\"border-b-2 border-white`}\r\n              onClick={() => { setActivePage(2) }}\r\n            >\r\n              Phim\r\n            </a>\r\n          </li>\r\n          <li className=\"flex\">\r\n            <a href=\"#cumrap\"\r\n              className={`flex items-center border-b-2 px-4 mr-10 border-transparent text-black  ${activepage === 3 ? `text-yellow-400` : ''} hover:text-yellow-400 duration-300\" activeClassName=\"border-b-2 border-white`}\r\n              onClick={() => { setActivePage(3) }}\r\n            >\r\n              Cụm Rạp\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"header__nav\">\r\n\r\n          <li className={pathname === '/' ? 'active' : ''}>\r\n            <Link to=\"/\" className=\"text-white md:text-black hover:text-yellow-400\">\r\n              <HomeOutlined />\r\n            </Link>\r\n          </li>\r\n\r\n          {_.isEmpty(userLogin) ? (<li className={pathname === '/login' ? 'active' : ''}>\r\n            <Link to=\"/login\" className=\"text-white md:text-black hover:text-yellow-400\">\r\n              <UserOutlined />\r\n            </Link>\r\n          </li>) : (<li className={pathname === '/profile' ? 'active' : ''}>\r\n            <Link to=\"/profile\" className=\"text-white md:text-black hover:text-yellow-400\">\r\n              <UserOutlined />\r\n            </Link>\r\n          </li>)}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Fragment, useEffect } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\nimport Footer from \"./Layout/Footer/Footer\";\r\nimport Header from \"./Layout/Header/Header\";\r\n\r\n\r\n\r\n\r\nexport const HomeTemplate = (props) => { //path, exact, Component\r\n\r\n    const { Component, ...restProps } = props;\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    })\r\n\r\n    return <Route {...restProps} render={(propsRoute) => { //props.location, props.history, props.match\r\n        return <Fragment>\r\n            <Header {...propsRoute} />\r\n\r\n            <div style={{ paddingTop: 77 }}>\r\n                <Component {...propsRoute} />\r\n            </div>\r\n            <Footer {...propsRoute} />\r\n\r\n        </Fragment>\r\n\r\n    }} />\r\n}","import React, { Fragment, useState } from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Tabs, Row, Col, Menu } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { USER_LOGIN } from \"../../../Util/setting\";\r\nimport Swal from 'sweetalert2'\r\nimport { history } from '../../../App';\r\nimport { Collapse, Select } from 'antd';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Panel } = Collapse;\r\n\r\nexport default function HomeMenu(props) {\r\n  const { heThongRapChieu } = props;\r\n\r\n  const [state] = useState({\r\n    tabPosition: \"left\",\r\n  });\r\n\r\n  const clickMovie = () => {\r\n    Swal.fire({\r\n      icon: 'warning',\r\n      text: 'Bạn chưa đăng nhập! Hãy đăng nhập để tiếp tục',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Đồng Ý!'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        history.push('/login');\r\n      }\r\n    })\r\n  }\r\n\r\n  const { tabPosition } = state;\r\n\r\n  const renderHeThongRap = () => {\r\n    return heThongRapChieu?.map((heThongRap, index) => {\r\n      return (\r\n        <TabPane tab={<img src={heThongRap.logo} className=\"rounded-full h-10\" alt=\"logo\" onError={(e) => { e.target.onerror = null; e.target.src = \"https://s3img.vcdn.vn/123phim/2018/09/f32670fd0eb083c9c4c804f0f3a252ed.png\" }} />} key={index}>\r\n          <Tabs tabPosition={tabPosition} className=\"tab-scroll-bar\">\r\n            {heThongRap.lstCumRap?.map((cumRap, index) => {\r\n              return <TabPane tab={\r\n                <div style={{ width: '320px', display: 'flex' }}>\r\n                  <img className=\"w-14 h-16 rounded-md\" src={cumRap.hinhAnh} alt=\"...\" onError={(e) => { e.target.onerror = null; e.target.src = \"https://s3img.vcdn.vn/123phim/2021/01/bhd-star-bitexco-16105952137769.png\" }} />\r\n                  <div className=\"text-left ml-2\">\r\n                    <h1>{cumRap.tenCumRap}</h1>\r\n                    <p className=\"text-black opacity-70 text-xs mb-0\">{cumRap.diaChi.length > 20 ? cumRap.diaChi.slice(0, 40) + '...' : cumRap.diaChi}</p>\r\n                    <p className=\"text-red-400\">[Chi Tiếts]</p>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n              } className=\"tab-scroll-bar pr-5\" key={index}>\r\n                {/* Load film */}\r\n\r\n                {cumRap.danhSachPhim.map((phim, index) => {\r\n                  return <Fragment key={index}>\r\n                    <div className=\"my-2\">\r\n                      <div className=\"flex\">\r\n                        <img className=\"w-16 h-16 rounded-md\" src={phim.hinhAnh} alt={phim.tenPhim} onError={(e) => { e.target.onerror = null; e.target.src = \"https://ss-images.saostar.vn/w800/2019/09/23/6102433/untitled-1.jpg\" }} />\r\n                        <div className=\"ml-5 pl-5\">\r\n                          <h1 className=\"text-xl mb-2 cursor-pointer\" onClick={() => { history.push(`/detail/${phim.maPhim}`) }}>{phim.tenPhim}</h1>\r\n                          <p className=\"text-xs\">120 phút - 8.0 IMDb - 2D/Digital</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex flex-wrap gap-4 mt-5 \">\r\n                        {phim.lstLichChieuTheoPhim?.slice(0, 10).map((lichChieu, index) => {\r\n                          if (localStorage.getItem(USER_LOGIN)) {\r\n                            return <NavLink className=\"w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" to={`/checkout/${lichChieu.maLichChieu}`} key={index}>\r\n                              {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                            </NavLink>\r\n                          } else {\r\n                            return <a onClick={clickMovie} className=\"w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" key={index}>\r\n                              {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                            </a>\r\n                          }\r\n                        })}\r\n                      </div>\r\n\r\n                    </div>\r\n                    <hr />\r\n                  </Fragment>\r\n                })}\r\n              </TabPane>\r\n            })}\r\n          </Tabs>\r\n\r\n        </TabPane>\r\n      );\r\n    });\r\n  };\r\n  const createRandomNumber = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  const renderHeThongRapMobile = () => {\r\n    return heThongRapChieu?.map((heThongRap, index) => {\r\n      return <Collapse expandIconPosition=\"right\" key={index}>\r\n        <Panel header={<div className=\"titleCinemaMobile\">\r\n          <img className=\"logoCinemasMobile\" src={heThongRap.logo} alt={heThongRap.logo} />\r\n          <div className=\"nameCinemasMobile\">{heThongRap.maHeThongRap}</div>\r\n        </div>} key={index} >\r\n          <Collapse\r\n            expandIconPosition=\"right\"\r\n            className=\"cinemaChildMobile\"\r\n          >\r\n            {\r\n              heThongRap?.lstCumRap.map((lcd, indexs) => {\r\n                return <Panel header={<div className=\"titleCinemasChildMobile\">\r\n                  <img className=\"logoCinemasChildMobile\" src={heThongRap.logo} alt={heThongRap.logo} />\r\n                  <div className=\"infoCinemasChildMobile\">\r\n                    <div className=\"nameCinemasChildMobile\">{lcd.tenCumRap}</div>\r\n                    <div className=\"addCinemasChildMobile\">{lcd.diaChi}</div>\r\n                  </div>\r\n                </div>} key={indexs}>\r\n                  <Collapse\r\n                    expandIconPosition=\"right\"\r\n                    className=\"filmMobile\"\r\n                  >\r\n                    {lcd.danhSachPhim.map((dsp, indexsss) => {\r\n                      return <Panel showArrow={false} header={<div className=\"infoFilmCinemaMobile\">\r\n                        <img className=\"imgFilmMobile\" src={dsp.hinhAnh} alt={dsp.hinhAnh} />\r\n                        <div className=\"infoFilmMobileDetail\">\r\n                          <span className=\"typeAgeMobile\">C{createRandomNumber(18, 12)}</span>\r\n                          <span className=\"nameFilmCinemaMobile\">\r\n                            {dsp.tenPhim}\r\n                          </span>\r\n                          <div className=\"timeReviewFilmMobile\">\r\n                            {createRandomNumber(120, 90)} phút - {createRandomNumber(9.7, 3.4).toFixed(1)} IMDb\r\n                          </div>\r\n                        </div>\r\n                      </div>} key={indexsss}>\r\n                        <div className=\"ml-2\" style={{ fontWeight: '600', paddingBottom: 15 }}>{createRandomNumber(3, 2)}D Digital</div>\r\n\r\n                        <div key={indexsss + 300} className=\"flex flex-wrap\">\r\n                          {dsp.lstLichChieuTheoPhim.map((ds, indexssss) => {\r\n                            if (indexssss <= 6) {\r\n                              if (localStorage.getItem(USER_LOGIN)) {\r\n                                return <NavLink className=\"movieTime\" to={`/checkout/${ds.maLichChieu}`} key={index}>\r\n                                  {moment(ds.ngayChieuGioChieu).format('hh:mm A')}\r\n                                </NavLink>\r\n                              } else {\r\n                                return <a onClick={clickMovie} className=\"movieTime\" key={index}>\r\n                                  {moment(ds.ngayChieuGioChieu).format('hh:mm A')}\r\n                                </a>\r\n                              }\r\n                            }\r\n                          })}\r\n                        </div>\r\n                      </Panel>\r\n                    })}\r\n                  </Collapse>\r\n                </Panel>\r\n              })\r\n            }\r\n          </Collapse>\r\n        </Panel>\r\n      </Collapse>\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"movie__listCinemas\">\r\n        <Row className=\"hideOnMobile\">\r\n          <Col span={24}>\r\n            <Tabs tabPosition={tabPosition}>{renderHeThongRap()};</Tabs>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"listCinemasMobile hideOnPC\">\r\n          <Col span={24}>\r\n            <div>{renderHeThongRapMobile()}</div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n}","import moment from \"moment\";\r\nimport React,  { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Modal, Button } from 'antd';\r\nexport default function Film(props) {\r\n  const { film } = props;\r\n\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const showModal= () => {\r\n    setIsModalVisible(true)\r\n  }\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n};\r\n\r\nconst handleCancel = () => {\r\n    setIsModalVisible(false);\r\n};\r\nconst getWindowDimensions = () => {\r\n  const { innerWidth: width, innerHeight: height } = window\r\n  return { width, height }\r\n}\r\n\r\nconst useWindowDimensions = () => {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions())\r\n\r\n  useEffect(() => {\r\n     const handleResize = () => setWindowDimensions(getWindowDimensions())\r\n\r\n     window.addEventListener('resize', handleResize)\r\n\r\n     return () => window.removeEventListener('resize', handleResize)\r\n\r\n   }, [])\r\n\r\n   return windowDimensions\r\n}\r\nconst { width } = useWindowDimensions();\r\nconst convertLink = (url) => {\r\n  return `https://www.youtube.com/embed/${getId(url)}`\r\n}\r\nconst getId = (url) => {\r\n  const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n  const match = url.match(regExp);\r\n\r\n  return (match && match[2].length === 11)\r\n    ? match[2]\r\n    : null;\r\n}\r\n  return (\r\n    <div className=\"movie-card\">\r\n      <div className=\"movie-header film-image\" style={{ background: `url(${film.hinhAnh}), url('https://ss-images.saostar.vn/wp700/2019/09/09/6006388/ednccmou8aeqxdk.jpg')` }}>\r\n        <div className=\"header-icon-container\">\r\n          <div onClick={()=>showModal()}>\r\n            <i className=\"fas fa-play header-icon\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/*movie-header*/}\r\n      <div className=\"movie-content\">\r\n        <div className=\"movie-content-header\">\r\n          <NavLink to={`/detail/${film.maPhim}`}>\r\n            <h3 className=\"movie-title h-10\">{film.tenPhim.length > 30 ? film.tenPhim.slice(0, 30) + '...' : film.tenPhim}</h3>\r\n          </NavLink>\r\n          {/* <div className=\"imax-logo\" /> */}\r\n        </div>\r\n        <div className=\"movie-info\">\r\n          <div className=\"info-section\">\r\n            <label>Ngày &amp; Giờ</label>\r\n            <span>{moment(film.ngayKhoiChieu).format('MMM Do, h:mm a')}</span>\r\n          </div>\r\n          {/*row*/}\r\n          <div className=\"info-section\">\r\n            <label>Đánh giá</label>\r\n            <span>{film.danhGia}/10</span>\r\n          </div>\r\n          {/*seat*/}\r\n        </div>\r\n      </div>\r\n      {console.log('1111',film.trailer)}\r\n      <Modal visible={isModalVisible}    centered\r\n          style={{ width: (width / 100) }} footer onOk={handleOk} onCancel={handleCancel}>\r\n                <iframe style={{ width: '100%'}} height=\"400px\" src={convertLink(film.trailer)}></iframe>\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n}\r\n","export const SET_DANH_SACH_PHIM = 'SET_DANH_SACH_FILM';\r\n\r\nexport const SET_PHIM_DANG_CHIEU = 'SET_PHIM_DANG_CHIEU';\r\nexport const SET_PHIM_SAP_CHIEU = 'SET_PHIM_SAP_CHIEU';\r\nexport const SET_THONG_TIN_PHIM = 'SET_THONG_TIN_PHIM';\r\n","import React, { useState } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport styleSlick from \"./MultipleRowSlick.module.scss\";\r\nimport Film from \"../Film/Film\";\r\nimport { SET_PHIM_DANG_CHIEU, SET_PHIM_SAP_CHIEU } from \"../../redux/actions/types/QuanLyPhimType\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {  LeftOutlined, RightOutlined  } from '@ant-design/icons';\r\n\r\nimport './MultipleRowSlick.scss';\r\n\r\nfunction SampleNextArrow(props) {\r\n  const { className, style, onClick } = props;\r\n  return (\r\n    <div\r\n        className=\"slick-arrow ArrowCustom\"\r\n        style={{...style, right: -60}}\r\n        onClick={onClick}\r\n    >\r\n        <RightOutlined className={'ArrowRight'} style={{fontSize:'4rem'}}/>\r\n    </div>\r\n);\r\n}\r\n\r\nfunction SamplePrevArrow(props) {\r\n  const { className, style, onClick } = props;\r\n  return (\r\n    <div\r\n        className=\"slick-arrow ArrowCustom\"\r\n        style={{...style,left: -65}}\r\n        onClick={onClick}\r\n    >\r\n        <LeftOutlined  className={'ArrowLeft'} style={{fontSize:'4rem'}}/>\r\n    </div>\r\n);\r\n}\r\n\r\nconst MultipleRowSlick = (props) => {\r\n\r\n  const [phimDangChieu, setPhimDangChieu] = useState(true);\r\n  const [phimSapChieu, setPhimSapChieu] = useState(false);\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const renderFilms = () => {\r\n    return props.arrFilm.slice(0, 12).map((item, index) => {\r\n      return (\r\n        <div className={`${styleSlick[\"width-item\"]}`} key={index}>\r\n          <Film film={item} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  var settings = {\r\n    className: \"center variable-width\",\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 4,\r\n    initialSlide: 0,\r\n    rows: 2,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1025,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          centerPadding: \"1px\",\r\n          slidesToScroll: 2,\r\n          infinite: true,\r\n          dots: true,\r\n          rows: 2,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          centerPadding: \"20px\",\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2,\r\n          nextArrow: false,\r\n          prevArrow: false,\r\n          rows: 2,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 450,\r\n        settings: {\r\n          centerPadding: \"20px\",\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n          initialSlide: 2,\r\n          nextArrow: false,\r\n          prevArrow: false,\r\n          rows: 1,\r\n        }\r\n      },\r\n    ]\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-center mb-10\">\r\n        <button\r\n          type=\"button\"\r\n          style={{ marginRight: 30 }}\r\n          className={`tab_anim ${phimDangChieu ? `active_class` : `non_active_class`}`}\r\n          onClick={() => {\r\n            const action = { type: SET_PHIM_DANG_CHIEU }\r\n            dispatch(action);\r\n            setPhimDangChieu(true);\r\n            setPhimSapChieu(false);\r\n          }}>\r\n          ĐANG CHIẾU\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className={`tab_anim ${!phimSapChieu ? `non_active_class` : `active_class`}`}\r\n          onClick={() => {\r\n            const action = { type: SET_PHIM_SAP_CHIEU }\r\n            dispatch(action);\r\n            setPhimSapChieu(true);\r\n            setPhimDangChieu(false);\r\n          }}>\r\n          SẮP CHIẾU\r\n        </button>\r\n      </div>\r\n      <Slider {...settings} >{renderFilms()}</Slider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultipleRowSlick;\r\n","import axios from \"axios\"\r\nimport { TOKEN_CYBERSOFT, DOMAIN, ACCESS_TOKEN  } from \"../Util/setting\"\r\n\r\nexport class baseService {\r\n\r\n    get = (url) => {\r\n        return axios({\r\n            url: `${DOMAIN}/${url}`,\r\n            method: 'GET',\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem(ACCESS_TOKEN)}`,\r\n                'TokenCybersoft': TOKEN_CYBERSOFT,\r\n            }\r\n        })\r\n    }\r\n\r\n    post = (url, data) => {\r\n        return axios({\r\n            url: `${DOMAIN}/${url}`,\r\n            method: 'POST',\r\n            data: data,\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem(ACCESS_TOKEN)}`,\r\n                'TokenCybersoft': TOKEN_CYBERSOFT,\r\n            }\r\n        })\r\n    }\r\n\r\n    put = (url, data) => {\r\n        return axios({\r\n            url: `${DOMAIN}/${url}`,\r\n            method: 'PUT',\r\n            data: data,\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem(ACCESS_TOKEN)}`,\r\n                'TokenCybersoft': TOKEN_CYBERSOFT,\r\n            }\r\n        })\r\n    }\r\n\r\n    delete = (url) => {\r\n        return axios({\r\n            url: `${DOMAIN}/${url}`,\r\n            method: 'DELETE',\r\n            headers:{\r\n                'Authorization': `Bearer ${localStorage.getItem(ACCESS_TOKEN)}`,\r\n                'TokenCybersoft': TOKEN_CYBERSOFT,\r\n            }\r\n        })\r\n    }\r\n}","import { GROUPID } from \"../Util/setting\";\r\nimport { baseService } from \"./baseService\";\r\n\r\nexport class QuanLyPhimService extends baseService {\r\n\r\n\r\n    // eslint-disable-next-line no-useless-constructor\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    layDanhSachBanner = () => {\r\n        return this.get(`api/QuanLyPhim/LayDanhSachBanner`);\r\n    }\r\n\r\n\r\n    layDanhSachPhim = (tenPhim='') => {\r\n        if(tenPhim.trim()!='' ){\r\n            return this.get(`api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}&tenPhim=${tenPhim}`);\r\n        }\r\n        return  this.get(`api/QuanLyPhim/LayDanhSachPhim?maNhom=${GROUPID}`);\r\n    }\r\n\r\n    themPhimUploadHinh = (formData) => {\r\n        return this.post(`api/QuanLyPhim/ThemPhimUploadHinh`, formData)\r\n    }\r\n\r\n    layThongTinPhim = (maPhim) => {\r\n        return this.get(`api/QuanLyPhim/LayThongTinPhim?MaPhim=${maPhim}`)\r\n    }\r\n\r\n    capNhatPhimUpload = (formData) =>{\r\n        return this.post(`api/QuanLyPhim/CapNhatPhimUpload`, formData);\r\n    }\r\n    xoaPhim = (maPhim) => {\r\n        return this.delete(`api/QuanLyPhim/XoaPhim?MaPhim=${maPhim}`);\r\n    }\r\n}\r\n\r\nexport  const quanLyPhimService = new QuanLyPhimService(); ","import { quanLyPhimService } from \"../../services/QuanLyPhimService\";\r\nimport { SET_DANH_SACH_PHIM, SET_THONG_TIN_PHIM } from \"./types/QuanLyPhimType\";\r\nimport { history } from '../../App';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const layDanhSachPhimAction = (tenPhim='') => {\r\n    return async(dispatch) => {\r\n        try {\r\n            const  result = await quanLyPhimService.layDanhSachPhim(tenPhim);\r\n\r\n            //After get data from api => redux(reducer)\r\n\r\n            dispatch({\r\n                type: SET_DANH_SACH_PHIM,\r\n                arrFilm: result.data.content,\r\n              });\r\n\r\n        }\r\n        catch(errors){\r\n            console.log(errors);\r\n        }\r\n    }\r\n}\r\n\r\nexport const themPhimUploadHinhAction = ( formData) => {\r\n    return async (dispatch) => {\r\n        try {\r\n  \r\n            // console.log(formData.get('tenPhim'))\r\n            let result = await quanLyPhimService.themPhimUploadHinh(formData);\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Thêm thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                        dispatch(layDanhSachPhimAction())\r\n                        history.push('/admin/films')\r\n                    }\r\n                })\r\n            }\r\n        } catch (errors){\r\n            console.log('errors', errors.response?.data);\r\n            Swal.fire({\r\n                icon: 'Thêm thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const layThongTinPhimAction = ( maPhim) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const  result = await quanLyPhimService.layThongTinPhim(maPhim);\r\n            //After get data from api => redux(reducer)\r\n            \r\n            dispatch({\r\n                type: SET_THONG_TIN_PHIM,\r\n                thongTinPhim: result.data.content,\r\n              });\r\n        }\r\n        catch(errors){\r\n            console.log(errors);\r\n        }\r\n    }\r\n}\r\n\r\nexport const capNhatPhimUploadAction = ( formData) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const  result = await quanLyPhimService.capNhatPhimUpload(formData);\r\n            //After get data from api => redux(reducer)\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Cập nhật thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result) => {\r\n                    if(result.isConfirmed){\r\n                        dispatch(layDanhSachPhimAction())\r\n                        history.push('/admin/films')\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        catch(errors){\r\n            console.log(errors);\r\n            Swal.fire({\r\n                icon: 'Cập nhật thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const xoaPhimAction = ( maPhim) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const  result = await quanLyPhimService.xoaPhim(maPhim);\r\n            console.log('result', result.data.content)\r\n            //After get data from api => redux(reducer)\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Xóa thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                        dispatch(layDanhSachPhimAction())\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        catch(errors){\r\n            console.log(errors);\r\n            Swal.fire({\r\n                icon: 'Xoá thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n        \r\n    }\r\n}","import { GROUPID } from \"../Util/setting\";\r\nimport { baseService } from \"./baseService\";\r\n\r\nexport class QuanLyRapService extends baseService {\r\n\r\n\r\n    // eslint-disable-next-line no-useless-constructor\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    layDanhSachHeThongRap = () => {\r\n        return this.get(`api/QuanLyRap/LayThongTinLichChieuHeThongRap?maNhom=${GROUPID}`);\r\n    }\r\n\r\n    // getCinemaInfo = () => {\r\n    //     return this.get(`/api/QuanLyRap/LayThongTinHeThongRap`);\r\n    // }\r\n\r\n\r\n    layThongTinLichChieuPhim = (maPhim) => {\r\n        return this.get(`api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=${maPhim}`)\r\n    }\r\n\r\n    layThongTinHeThongRap = () => {\r\n        return this.get(`api/QuanLyRap/LayThongTinHeThongRap`)\r\n    }\r\n    layThongTinCumRap = (maHeThongRap) => {\r\n        return this.get(`api/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${maHeThongRap}`)\r\n    }\r\n\r\n    \r\n\r\n}\r\n\r\nexport  const quanLyRapService = new QuanLyRapService(); ","export const  SET_HE_THONG_RAP_CHIEU = 'SET_HE_THONG_RAP_CHIEU';\r\n\r\nexport const SET_CHI_TIET_PHIM  = 'SET_CHI_TIET_PHIM';\r\n","import { quanLyRapService } from \"../../services/QuanLyRapService\";\r\nimport { SET_CHI_TIET_PHIM, SET_HE_THONG_RAP_CHIEU } from \"./types/QuanLyRapType\";\r\n\r\nexport const layDanhSachRapAction = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const result = await quanLyRapService.layDanhSachHeThongRap();\r\n            console.log('result', result.data.content);\r\n\r\n            if (result.status === 200) {\r\n                dispatch({ type: SET_HE_THONG_RAP_CHIEU, heThongRapChieu: result.data.content })\r\n            }\r\n\r\n        } catch (errors) {\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const layThongTinChiTietPhim = (id) => {\r\n    return async dispatch => {\r\n        try {\r\n            const result = await quanLyRapService.layThongTinLichChieuPhim(id);\r\n            console.log('result alo', result.data.content);\r\n            //Lấy được dữ liệu từ api về => đưa lên reducer\r\n\r\n\r\n            dispatch({\r\n                type: SET_CHI_TIET_PHIM,\r\n                filmDetail: result.data.content\r\n            })\r\n\r\n        } catch (errors) {\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","export const SET_CAROUSEL = 'SET_CAROUSEL';","import React, { useEffect } from \"react\";\r\nimport { Carousel } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { layCarouselAction } from \"../../../../redux/actions/CarouselAction\";\r\n\r\nimport './HomeCarousel.scss';\r\n\r\nconst contentStyle = {\r\n  height: \"600px\",\r\n  color: \"#fff\",\r\n  lineHeight: \"160px\",\r\n  textAlign: \"center\",\r\n  backgroundPosition: \"center\",\r\n  backgroundRepeat: \"no-repeat\",\r\n  backgroundSize: \"cover\",\r\n};\r\n\r\nexport default function HomeCarousel(props) {\r\n  const { arrImg } = useSelector((state) => state.CarouselReducer);\r\n\r\n  const dispatch = useDispatch();\r\n  //Active when component loaded\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(layCarouselAction())\r\n\r\n  }, [dispatch]);\r\n\r\n  const renderImg = () => {\r\n    return arrImg.map((item, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <div className=\"image-banner\"\r\n            style={{ ...contentStyle, backgroundImage: `url(${item.hinhAnh})` }}\r\n          >\r\n            <img className=\"opacity-0 \" src={item.hinhAnh} alt=\"1\" />\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n\r\n  return <Carousel style={{ width: '100%', padding: 0, margin: 0 }} >\r\n    {renderImg()}\r\n  </Carousel>;\r\n}\r\n","\r\nimport { quanLyPhimService } from \"../../services/QuanLyPhimService\";\r\nimport { SET_CAROUSEL } from \"./types/CarouselType\";\r\n\r\n\r\nexport const layCarouselAction = () => {\r\n    return async(dispatch) => {\r\n        try {\r\n            const  result = await quanLyPhimService.layDanhSachBanner();\r\n\r\n            dispatch({\r\n                type: SET_CAROUSEL,\r\n                arrImg: result.data.content,\r\n              });\r\n\r\n        }\r\n        catch(errors){\r\n            console.log(errors);\r\n        }\r\n    }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport HomeMenu from \"./HomeMenu/HomeMenu\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport MultipleRowSlick from \"../../components/ReactSlick/MultipleRowSlick\";\r\nimport { layDanhSachPhimAction } from \"../../redux/actions/QuanLyPhimAction\";\r\nimport { layDanhSachRapAction } from \"../../redux/actions/QuanLyRapAction\";\r\nimport HomeCarousel from \"../../templates/HomeTemplate/Layout/HomeCarousel/HomeCarousel\";\r\n\r\nexport default function Home(props) {\r\n\r\n  const { arrFilm } = useSelector((state) => state.QuanLyPhimReducer);\r\n\r\n  const { heThongRapChieu } = useSelector((state) => state.QuanLyRapReducer);\r\n\r\n  // console.log('Home Props', arrFilm)\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(layDanhSachPhimAction());\r\n    dispatch(layDanhSachRapAction())\r\n\r\n  }, [dispatch])\r\n\r\n  return (\r\n\r\n    <div className=\"mb-10\">\r\n      <HomeCarousel />\r\n\r\n      <div className=\"container mx-auto\">\r\n        <section id=\"phim\" className=\"text-gray-600 body-font\">\r\n          <div className=\"container px-5 py-10 md:py-14 lg:py-24 mx-auto\">\r\n            <MultipleRowSlick arrFilm={arrFilm} />\r\n          </div>\r\n        </section>\r\n\r\n        <div id=\"cumrap\">\r\n          <HomeMenu heThongRapChieu={heThongRapChieu} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Contact() {\r\n    return (\r\n        <div>\r\n            Contact\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function News() {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { baseService } from \"./baseService\";\r\nimport { GROUPID } from \"../Util/setting\";\r\nexport class QuanLyNguoiDungService extends baseService {\r\n\r\n\r\n    // eslint-disable-next-line no-useless-constructor\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    dangNhap = (thongTinDangNhap) => {\r\n        return this.post(`api/QuanLyNguoiDung/DangNhap`, thongTinDangNhap);\r\n    }\r\n\r\n    dangKy = (thongTinDangKy) => {\r\n        return this.post(`api/QuanLyNguoiDung/DangKy`, thongTinDangKy);\r\n    }\r\n\r\n    \r\n\r\n    layThongTinTaiKhoan = () => {\r\n        return this.post(`api/QuanLyNguoiDung/ThongTinTaiKhoan`);\r\n    }\r\n\r\n    layDanhSachNguoiDung = () => {\r\n        return this.get(`api/QuanLyNguoiDung/LayDanhSachNguoiDung`);\r\n    }\r\n    layDanhSachNguoiDungSearch = (tuKhoa='') => {\r\n        return this.get(`api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=${GROUPID}&tuKhoa=${tuKhoa}`);\r\n    }\r\n    themNguoiDung = (thongTinNguoiDung) => {\r\n        return this.post(`api/QuanLyNguoiDung/ThemNguoiDung`, thongTinNguoiDung);\r\n    }\r\n    capNhatNguoiDung = (thongTinNguoiDung) => {\r\n        return this.put(`api/QuanLyNguoiDung/CapNhatThongTinNguoiDung`, thongTinNguoiDung);\r\n    }\r\n    xoaNguoiDung = (taiKhoan) => {\r\n        return this.delete(`api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${taiKhoan}`)\r\n    }\r\n\r\n    layThongNguoiDungTheoTaiKhoan = (taikhoan) => {\r\n        return this.post(`api/QuanLyNguoiDung/LayThongTinNguoiDung?taiKhoan=${taikhoan}`);\r\n    }\r\n\r\n}\r\n\r\nexport  const quanLyNguoiDungService = new QuanLyNguoiDungService(); ","export const DANG_NHAP_ACTION = 'DANG_NHAP_ACTION';\r\nexport const DANG_NHAP_THAT_BAI_ACTION = 'DANG_NHAP_THAT_BAI_ACTION';\r\n\r\nexport const DANG_KY_ACTION = 'DANG_KY_ACTION';\r\n\r\nexport const SET_THONG_TIN_NGUOI_DUNG = 'SET_THONG_TIN_NGUOI_DUNG'\r\nexport const SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN = 'SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN'\r\n\r\nexport const SET_DANH_SACH_NGUOI_DUNG = 'SET_DANH_SACH_NGUOI_DUNG';\r\n","export const DISPLAY_LOADING = 'DISPLAY_LOADING';\r\nexport const HIDE_LOADING = 'HIDE_LOADING';","import { DISPLAY_LOADING, HIDE_LOADING } from \"./types/LoadingType\"\r\n\r\n\r\n\r\nexport const displayLoadingAction = {\r\n    type: DISPLAY_LOADING\r\n}\r\n\r\nexport const hideLoadingAction = {\r\n    type: HIDE_LOADING\r\n}","import { quanLyNguoiDungService } from \"../../services/QuanLyNguoiDungService\";\r\nimport { DANG_KY_ACTION, DANG_NHAP_ACTION, DANG_NHAP_THAT_BAI_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN } from \"./types/QuanLyNguoiDungType\";\r\nimport { history } from '../../App';\r\nimport { displayLoadingAction, hideLoadingAction } from \"./LoadingAction\";\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nexport const dangNhapAction = (thongTinDangNhap) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n\r\n            const result = await quanLyNguoiDungService.dangNhap(thongTinDangNhap);\r\n\r\n            if (result.status === 200) {\r\n                dispatch({\r\n                    type: DANG_NHAP_ACTION,\r\n                    thongTinDangNhap: result.data.content\r\n                })\r\n                if (result.data.content.maLoaiNguoiDung === 'QuanTri') {\r\n                    history.push('/admin');\r\n                } else {\r\n                    history.goBack();\r\n                }\r\n            }\r\n\r\n            console.log('result dang nhap', result.data.content)\r\n\r\n        } catch (errors) {\r\n            Swal.fire({\r\n                title: 'Đăng nhập thất bại!',\r\n                text: `${errors.response?.data.content}`,\r\n                icon: 'error',\r\n            })\r\n            // dispatch({\r\n            //     type: DANG_NHAP_THAT_BAI_ACTION, \r\n            //     payload: errors.response?.data.content\r\n            // });\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const dangKyAction = (thongTinDangKy) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const dangNhap = { taiKhoan: thongTinDangKy.taiKhoan, matKhau: thongTinDangKy.matKhau}\r\n            const results = await quanLyNguoiDungService.dangKy(thongTinDangKy);\r\n            const results1 = await quanLyNguoiDungService.dangNhap(dangNhap);\r\n\r\n\r\n            if (results.status === 200 && results1.status === 200) {\r\n                await dispatch({\r\n                    type: 'GET_TOKEN_ACTION',\r\n                    token: results1.data.content\r\n                })\r\n                await quanLyNguoiDungService.capNhatNguoiDung(thongTinDangKy);\r\n                Swal.fire({\r\n                    title: 'Đăng ký thành công!',\r\n                    text: 'Vui Lòng Đăng Nhập Để Vào Hệ Thống.',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        //  dispatch({\r\n                        //     type: DANG_KY_ACTION,\r\n                        //     thongTinDangKy: results.data.content\r\n                        // })\r\n                        // dispatch(layDanhSachNguoiDungAction())\r\n                        window.location.reload();\r\n                    }\r\n                })\r\n            }\r\n\r\n            console.log('result', results);\r\n\r\n        } catch (errors) {\r\n            console.log('errors', errors.response?.data);\r\n            Swal.fire({\r\n                title: 'Đăng ký thất bại!',\r\n                text: `Vui lòng thử lại!!`,\r\n                icon: 'error',\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const layThongTinTaiKhoanAction = () => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n            dispatch(displayLoadingAction);\r\n\r\n            const result = await quanLyNguoiDungService.layThongTinTaiKhoan();\r\n\r\n\r\n            if (result.status === 200) {\r\n                await dispatch({\r\n                    type: SET_THONG_TIN_NGUOI_DUNG,\r\n                    thongTinNguoiDung: result.data.content\r\n                })\r\n\r\n                await dispatch(hideLoadingAction);\r\n\r\n            }\r\n\r\n            console.log('result', result);\r\n\r\n\r\n        } catch (errors) {\r\n            dispatch(hideLoadingAction);\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const layThongTinNguoiDungTheoTaiKhoanAction = (taiKhoan) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            const result = await quanLyNguoiDungService.layThongNguoiDungTheoTaiKhoan(taiKhoan);\r\n            if (result.status === 200) {\r\n                dispatch({\r\n                    type: SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN,\r\n                    thongTinNguoiDungTheoTaiKhoan: result.data.content\r\n                })\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        } catch (errors) {\r\n            // dispatch(hideLoadingAction);\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\nexport const layDanhSachNguoiDungAction = (tuKhoa, isSearch = false) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            if (!isSearch) {\r\n                const result = await quanLyNguoiDungService.layDanhSachNguoiDung();\r\n\r\n                if (result.status === 200) {\r\n                    dispatch({\r\n                        type: SET_DANH_SACH_NGUOI_DUNG,\r\n                        danhSachNguoiDung: result.data.content\r\n                    })\r\n\r\n                }\r\n            } else {\r\n                const result = await quanLyNguoiDungService.layDanhSachNguoiDungSearch(tuKhoa);\r\n\r\n                if (result.status === 200) {\r\n                    dispatch({\r\n                        type: SET_DANH_SACH_NGUOI_DUNG,\r\n                        danhSachNguoiDung: result.data.content\r\n                    })\r\n\r\n                }\r\n            }\r\n\r\n        } catch (errors) {\r\n            console.log('result', errors.response?.data);\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const themNguoiDungAction = (thongTinUser) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const result = await quanLyNguoiDungService.themNguoiDung(thongTinUser);\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Thêm thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        dispatch(layDanhSachNguoiDungAction())\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n            console.log('result', result);\r\n\r\n\r\n        } catch (errors) {\r\n            console.log('result', errors.response?.data);\r\n            console.log('result', errors.response);\r\n            Swal.fire({\r\n                icon: 'Thêm thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const capNhatNguoiDungAction = (thongTinNguoiDung) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const result = await quanLyNguoiDungService.capNhatNguoiDung(thongTinNguoiDung);\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Cập nhật thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        dispatch(layDanhSachNguoiDungAction())\r\n                    }\r\n                })\r\n            }\r\n            console.log('result', result);\r\n        } catch (errors) {\r\n            Swal.fire({\r\n                icon: 'Cập nhật thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const xoaNguoiDungAction = (taiKhoan) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n\r\n            const result = await quanLyNguoiDungService.xoaNguoiDung(taiKhoan);\r\n\r\n\r\n            if (result.status === 200) {\r\n                Swal.fire({\r\n                    title: 'Xóa thành công!',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#44c020'\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        dispatch(layDanhSachNguoiDungAction())\r\n                    }\r\n                })\r\n            }\r\n\r\n            console.log('result', result);\r\n\r\n\r\n        } catch (errors) {\r\n            Swal.fire({\r\n                icon: 'Xoá thất bại!',\r\n                title: errors.response?.data.message,\r\n                text: `${errors.response?.data.content}`,\r\n            })\r\n        }\r\n    }\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useFormik } from 'formik';\r\nimport { capNhatNguoiDungAction, dangKyAction, dangNhapAction, themNguoiDungAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport \"./Login.scss\";\r\nimport * as Yup from 'yup';\r\nimport { GROUPID } from '../../Util/setting';\r\nimport bg from '../../assets/footer-bg.jpg';\r\n\r\nexport default function Login(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [slideUp, setSlideUp] = useState(true);\r\n\r\n    const [loginFail, setLoginFail] = useState(false);\r\n\r\n    const { userLogin } = useSelector((state) => state.QuanLyNguoiDungReducer)\r\n\r\n\r\n    const { errors } = useSelector((state) => state.QuanLyNguoiDungReducer);\r\n    console.log('errorsScreen', errors)\r\n\r\n    console.log('userLogin', userLogin)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            taiKhoan: '',\r\n            matKhau: '',\r\n        },\r\n        onSubmit: values => {\r\n\r\n            const action = dangNhapAction(values);\r\n\r\n            dispatch(action);\r\n\r\n\r\n            console.log('values', values);\r\n        },\r\n    });\r\n\r\n\r\n    const formikRegister = useFormik({\r\n        initialValues: {\r\n            taiKhoan: \"\",\r\n            matKhau: \"\",\r\n            email: \"\",\r\n            soDt: \"\",\r\n            maNhom: GROUPID,\r\n            maLoaiNguoiDung: 'KhachHang',\r\n            hoTen: \"\"\r\n        },\r\n\r\n        //.matches('^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\ [[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$', 'không hợp lệ!!!')\r\n        validationSchema: Yup.object().shape({\r\n            hoTen: Yup.string().required('Không được bỏ trống!!!').matches('^[A-Z a-z]+$', 'Vui lòng nhập họ tên phù hợp!!!'),\r\n            taiKhoan: Yup.string().required('không được bỏ trống!!!'),\r\n            email: Yup.string().required('không được bỏ trống!!!').email('không hợp lệ!!!'),\r\n            matKhau: Yup.string().required('không được bỏ trống!!!').min(6, 'phải từ 6-32 ký tự!!!').max(32, 'phải từ 6 - 32 ký tự!!!'),\r\n            soDt: Yup.string().required('không được bỏ trống!!!').min(10, 'Vui lòng nhập số ĐT hợp lệ!!!').max(11, 'Vui lòng nhập số ĐT hợp lệ!!!').matches('^[0-9]+$', 'Vui lòng nhập số điện thoại!!!'),\r\n        }),\r\n        onSubmit: async values => {\r\n            values.maNhom = GROUPID;\r\n            const action = dangKyAction(values);\r\n            await dispatch(action);\r\n\r\n            console.log('values', values);\r\n        },\r\n    })\r\n\r\n\r\n    let classLogin = 'slide-up';\r\n    let classRegister = '';\r\n\r\n\r\n    if (slideUp) {\r\n        //login\r\n        classRegister = 'slide-up';\r\n        classLogin = '';\r\n    } else {\r\n        //register\r\n        classRegister = '';\r\n        classLogin = 'slide-up';\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"flex justify-center items-center bg-login h-screen\" style={{ backgroundImage: `url(${bg})` }}>\r\n            <div className=\"form-structure\">\r\n                <div className={`signup ${classRegister}`}>\r\n                    <h2 className=\"form-title\" id=\"signup\" onClick={(e) => {\r\n                        setSlideUp(false);\r\n                    }}><span>hoặc</span>Đăng Ký</h2>\r\n                    <form onSubmit={formikRegister.handleSubmit}>\r\n                        <div className=\"form-holder shadow-md\">\r\n                            <div className=\"user-box\">\r\n                                <input type=\"text\" required name=\"hoTen\" onChange={formikRegister.handleChange} onBlur={formikRegister.handleBlur} />\r\n                                <label>Họ Tên{formikRegister.errors.hoTen && formikRegister.touched.hoTen ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formikRegister.errors.hoTen} </span>) : null}</label>\r\n\r\n                            </div>\r\n                            <div className=\"user-box\">\r\n                                <input type=\"text\" name=\"taiKhoan\" onChange={formikRegister.handleChange} onBlur={formikRegister.handleBlur} />\r\n                                <label>Tài Khoản{formikRegister.errors.taiKhoan && formikRegister.touched.taiKhoan ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formikRegister.errors.taiKhoan} </span>) : null}</label>\r\n                            </div>\r\n                            <div className=\"user-box\">\r\n                                <input type=\"email\" name=\"email\" required onChange={formikRegister.handleChange} onBlur={formikRegister.handleBlur} />\r\n                                <label>Email{formikRegister.errors.email && formikRegister.touched.email ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formikRegister.errors.email} </span>) : null}</label>\r\n                            </div>\r\n                            <div className=\"user-box\">\r\n                                <input type=\"password\" name=\"matKhau\" onChange={formikRegister.handleChange} onBlur={formikRegister.handleBlur} />\r\n                                <label>Mật Khẩu{formikRegister.errors.matKhau && formikRegister.touched.matKhau ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formikRegister.errors.matKhau} </span>) : null}</label>\r\n                            </div>\r\n                            <div className=\"user-box\">\r\n                                <input type=\"text\" name=\"soDt\" onChange={formikRegister.handleChange} onBlur={formikRegister.handleBlur} />\r\n                                <label>Số Điện Thoại{formikRegister.errors.soDt && formikRegister.touched.soDt ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formikRegister.errors.soDt} </span>) : null}</label>\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"submit-btn\">Đăng Ký</button>\r\n                    </form>\r\n                </div>\r\n                <div className={`login ${classLogin}`}>\r\n                    <form onSubmit={formik.handleSubmit}>\r\n                        <div className=\"center\">\r\n                            <h2 className=\"form-title\" id=\"login\" onClick={(e) => {\r\n                                setSlideUp(true);\r\n                            }}><span>hoặc</span>Đăng Nhập</h2>\r\n                            <div className=\"form-holder shadow-md\" style={{ borderRadius: '0px !important', padding: 10 }}>\r\n                                <div className=\"user-box\" >\r\n                                    <input type=\"text\" name=\"taiKhoan\" onChange={formik.handleChange} />\r\n                                    <label>Tài Khoản</label>\r\n                                </div>\r\n                                <div className=\"user-box mt-5\">\r\n                                    <input type=\"password\" name=\"matKhau\" onChange={formik.handleChange} />\r\n                                    <label>Mật Khẩu</label>\r\n                                </div>\r\n                            </div>\r\n                            <button className=\"submit-btn\" onClick={() => {\r\n                                if (errors) {\r\n                                    setLoginFail(true);\r\n                                }\r\n                            }}>Đăng Nhập</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { CustomCard } from '@tsamantanis/react-glassmorphism'\r\nimport '@tsamantanis/react-glassmorphism/dist/index.css'\r\nimport moment from 'moment';\r\nimport { Rate } from 'antd';\r\n\r\nimport { Tabs, } from 'antd';\r\nimport { layThongTinChiTietPhim } from '../../redux/actions/QuanLyRapAction';\r\nimport { USER_LOGIN } from \"../../Util/setting\";\r\nimport Swal from 'sweetalert2'\r\nimport { history } from '../../App';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Modal } from 'antd';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Detail(props) {\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const showModal= () => {\r\n      setIsModalVisible(true)\r\n    }\r\n    const handleOk = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n  \r\n\r\n  const getWindowDimensions = () => {\r\n    const { innerWidth: width, innerHeight: height } = window\r\n    return { width, height }\r\n  }\r\n  \r\n  const useWindowDimensions = () => {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions())\r\n  \r\n    useEffect(() => {\r\n       const handleResize = () => setWindowDimensions(getWindowDimensions())\r\n  \r\n       window.addEventListener('resize', handleResize)\r\n  \r\n       return () => window.removeEventListener('resize', handleResize)\r\n  \r\n     }, [])\r\n  \r\n     return windowDimensions\r\n  }\r\n  const { width } = useWindowDimensions();\r\n  \r\n\r\n    const filmDetail = useSelector(state => state.QuanLyRapReducer.filmDetail);\r\n\r\n    console.log({ filmDetail })\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    let { id } = props.match.params;\r\n    const clickMovie = () => {\r\n        Swal.fire({\r\n            icon: 'warning',\r\n            text: 'Bạn chưa đăng nhập! Hãy đăng nhập để tiếp tục',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Đồng Ý!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push('/login');\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n\r\n        //Lấy Thông tin từ đường dẫn\r\n\r\n\r\n        dispatch(layThongTinChiTietPhim(id));\r\n\r\n\r\n    }, [])\r\n    const getId = (url) => {\r\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n        const match = url?.match(regExp);\r\n      \r\n        return (match && match[2].length === 11)\r\n          ? match[2]\r\n          : null;\r\n      }\r\n    const convertLink = (url) => {\r\n        return `https://www.youtube.com/embed/${getId(url)}`\r\n      }\r\n    \r\n    return (\r\n        <div style={{ backgroundImage: `url(${filmDetail.hinhAnh})`, backgroundRepeat: 'no-repeat', backgroundSize: '100%', backgroundPosition: 'center', minHeight: '100vh' }}>\r\n            <CustomCard\r\n                style={{ paddingTop: '150px', minHeight: '100vh', borderRadius: '0' }}\r\n                effectColor=\"#0a2029\" // required\r\n                color=\"#14AEFF\" // default color is white\r\n                blur={15} // default blur value is 10px\r\n                borderRadius={0} // default border radius value is 10px\r\n            >\r\n                <div className=\"grid grid-cols-12\">\r\n                    <div className=\"col-span-5 col-start-3\">\r\n                        <div className=\"grid grid-cols-3\">\r\n                            <div onClick={()=>showModal()}>\r\n                            <img src={filmDetail.hinhAnh} alt={filmDetail.tenPhim} className=\"col-span-1\" />\r\n                            </div>\r\n                        \r\n                            <div className=\"col-span-2 flex flex-col justify-center ml-10\">\r\n                                <p className=\"text-white\">Ngày Chiếu: {moment(filmDetail.ngayKhoiChieu).format('dd-mm-yyyy')}</p>\r\n                                <p className=\"text-4xl text-white\">{filmDetail.tenPhim}</p>\r\n                                <p className=\"text-white\">{filmDetail.moTa}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-span-4 col-end-12 flex flex-col justify-center items-center\">\r\n                        <div className={`c100 p${filmDetail.danhGia * 10} big`}>\r\n                            <span classNam=\"text-white\">{filmDetail.danhGia * 10}%</span>\r\n                            <div className=\"slice\">\r\n                                <div className=\"bar \" />\r\n                                <div className=\"fill \" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-center\">\r\n                            <div className=\"star-icon\">\r\n                                {/* <Rate style={{ color: '#ffe066 !important' }} allowHalf defaultValue={filmDetail.danhGia / 2} /> */}\r\n\r\n                                <Rate disabled allowHalf defaultValue={filmDetail.danhGia / 2} />\r\n                            </div>\r\n                            <h3 className=\"text-xl text-red-500\">{filmDetail.danhGia}/10 Đánh giá</h3>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className=\"mt-10 w-2/3 bg-white p-5 container\" style={{ marginLeft: 245 }}>\r\n                    <div>\r\n                        <Tabs tabPosition={'left'}>\r\n                            {filmDetail.heThongRapChieu?.map((heThongRap, index) => {\r\n                                return <TabPane tab={<div className=\"flex items-center\">\r\n                                    <img src={heThongRap.logo} width={50} className=\"rounded-full\" alt={heThongRap.tenHeThongRap} />\r\n                                    <h3 className=\"ml-5\">{heThongRap.tenHeThongRap}</h3>\r\n                                </div>}\r\n                                    key={index}>\r\n                                    <div className=\"tab-scroll-bar\">\r\n                                        {heThongRap.cumRapChieu?.map((cumRap, index) => {\r\n                                            return <div className=\"mt-10\" key={index}>\r\n                                                <div className=\"flex\">\r\n                                                    <img className=\"rounded-md\" src={cumRap.hinhAnh} alt={cumRap.tenCumRap} style={{ width: 50, height: 50 }} />\r\n\r\n                                                    <div className=\"ml-2\">\r\n                                                        <p className=\"text-xl mb-2\">{cumRap.tenCumRap}</p>\r\n                                                        <p className=\"text-xs opacity-80\">{cumRap.diaChi}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex flex-wrap\">\r\n                                                    {cumRap.lichChieuPhim?.slice(0, 12).map((lichChieu, index) => {\r\n                                                        if (localStorage.getItem(USER_LOGIN)) {\r\n                                                            return <NavLink className=\"col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" to={`/checkout/${lichChieu.maLichChieu}`} key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </NavLink>\r\n                                                        } else {\r\n                                                            return <span onClick={clickMovie} className=\"cursor-pointer col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </span>\r\n                                                        }\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        })}\r\n                                    </div>\r\n                                </TabPane>\r\n                            })}\r\n                        </Tabs>\r\n                    </div>\r\n                </div>\r\n            </CustomCard>\r\n\r\n            <Modal visible={isModalVisible}    centered\r\n          style={{ width: (width / 100) }} footer onOk={handleOk} onCancel={handleCancel}>\r\n                <iframe style={{ width: '100%'}} height=\"400px\" src={convertLink(filmDetail?.trailer)}></iframe>\r\n            </Modal>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","export class ThongTinDatVe {\r\n    maLichChieu = 0;\r\n    danhSachVe = [];\r\n}\r\n","\r\nimport { ThongTinDatVe } from \"../_core/models/ThongTinDatVe\";\r\nimport { baseService } from \"./baseService\";\r\n\r\nexport class QuanLyDatVeService extends baseService {\r\n\r\n\r\n    // eslint-disable-next-line no-useless-constructor\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    layChiTietPhongVe = (malichChieu) => { //maLichChieu lay tu URL\r\n        return this.get(`api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${malichChieu}`);\r\n    }\r\n\r\n    datVe = (thongTinDatVe = new ThongTinDatVe()) => { \r\n        return this.post(`api/QuanLyDatVe/DatVe`, thongTinDatVe);\r\n    }\r\n\r\n    taoLichChieu = (thongTinLichChieu) => {\r\n        return this.post(`api/QuanLyDatVe/TaoLichChieu`,thongTinLichChieu )\r\n    }\r\n}\r\n\r\nexport  const quanLyDatVeService = new QuanLyDatVeService(); ","export const SET_CHI_TIET_PHONG_VE = 'SET_CHI_TIET_PHONG_VE';\r\n\r\n\r\nexport const DAT_VE = 'DAT_VE';\r\n\r\nexport const DAT_VE_HOAN_TAT = 'DAT_VE_HOAN_TAT';\r\n\r\n\r\nexport const CHUYEN_TAB = 'CHUYEN_TAB';\r\n\r\n\r\nexport const CHANGE_TAB_ACTIVE = 'CHANGE_TAB_ACTIVE';\r\n\r\n\r\nexport const DAT_GHE = 'DAT_GHE';\r\n\r\n\r\n\r\n","import { connection } from \"../..\";\r\nimport { quanLyDatVeService } from \"../../services/QuanLyDatVeService\";\r\nimport { ThongTinDatVe } from \"../../_core/models/ThongTinDatVe\";\r\nimport { displayLoadingAction, hideLoadingAction } from \"./LoadingAction\";\r\nimport { CHUYEN_TAB, DAT_VE, DAT_VE_HOAN_TAT, SET_CHI_TIET_PHONG_VE } from \"./types/QuanLyDatVeType\";\r\n\r\n\r\nexport const layChiTietPhongVeAction = (maLichChieu) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n\r\n            const result = await quanLyDatVeService.layChiTietPhongVe(maLichChieu);\r\n\r\n            if (result.status === 200) {\r\n                dispatch({\r\n                    type: SET_CHI_TIET_PHONG_VE,\r\n                    chiTietPhongVe: result.data.content\r\n                })\r\n            }\r\n\r\n            console.log('result', result);\r\n\r\n\r\n        } catch (errors) {\r\n            console.log('errors', errors.response?.data);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const datVeAction = (thongtinDatVe = new ThongTinDatVe()) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        try {\r\n\r\n            dispatch(displayLoadingAction);\r\n\r\n\r\n            const result = await quanLyDatVeService.datVe(thongtinDatVe);\r\n\r\n            console.log(result.data.content);\r\n\r\n            //Đặt vé thành công gọi api load lại phòng vé\r\n            await dispatch(layChiTietPhongVeAction(thongtinDatVe.maLichChieu));\r\n\r\n            await dispatch({ type: DAT_VE_HOAN_TAT });\r\n            await dispatch(hideLoadingAction);\r\n\r\n            let userLogin = getState().QuanLyNguoiDungReducer.userLogin\r\n\r\n            await connection.invoke('datGheThanhCong', userLogin.taiKhoan, thongtinDatVe.maLichChieu);\r\n            dispatch({ type: CHUYEN_TAB });\r\n\r\n        } catch (error) {\r\n            dispatch(hideLoadingAction);\r\n            console.log('errors', error.response.data);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const datGheAction = (ghe, maLichChieu) => {\r\n    return async (dispatch, getState) => {\r\n\r\n        //đưa thông tin ghế lên reducer\r\n        await dispatch({\r\n            type: DAT_VE,\r\n            gheDuocChon: ghe\r\n        })\r\n\r\n        //call api về backend\r\n        let danhSachGheDangDat = getState().QuanLyDatVeReducer.danhSachGheDangDat;\r\n\r\n\r\n        let taiKhoan = getState().QuanLyNguoiDungReducer.userLogin.taiKhoan;\r\n\r\n        console.log('danhSachGheDangDat', danhSachGheDangDat)\r\n        console.log('taiKhoan', taiKhoan)\r\n        console.log('maLichChieu', maLichChieu)\r\n\r\n\r\n        //convert array to string\r\n        danhSachGheDangDat = JSON.stringify(danhSachGheDangDat);\r\n\r\n        connection.invoke('datGhe', taiKhoan, danhSachGheDangDat, maLichChieu);\r\n    }\r\n}","import React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { datGheAction, datVeAction, layChiTietPhongVeAction } from '../../redux/actions/QuanLyDatVeAction';\r\nimport style from './Checkout.module.scss';\r\nimport './Checkout.scss';\r\nimport { Menu, Dropdown } from 'antd';\r\nimport { CHANGE_TAB_ACTIVE, DAT_GHE } from '../../redux/actions/types/QuanLyDatVeType';\r\nimport _ from 'lodash';\r\nimport { ThongTinDatVe } from '../../_core/models/ThongTinDatVe';\r\nimport { Tabs } from 'antd';\r\nimport { layThongTinTaiKhoanAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\nimport moment from 'moment';\r\nimport { connection } from '../..';\r\nimport { history } from '../../App';\r\nimport styled from 'styled-components'\r\nimport { ACCESS_TOKEN, USER_LOGIN } from '../../Util/setting';\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n\r\n\r\nfunction Checkout(props) {\r\n\r\n\r\n    const { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const { chiTietPhongVe, danhSachGheDangDat, danhSachGheKhachDat } = useSelector(state => state.QuanLyDatVeReducer);\r\n\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n\r\n        //gọi hàm tạo ra 1 async function\r\n        const action = layChiTietPhongVeAction(props.match.params.id)\r\n        dispatch(action);\r\n\r\n        //Có 1 client nào thực hiện việc đặt vé thành công mình sẽ load lại danh sách phòng vé của lịch chiếu đó\r\n        connection.on('datVeThanhCong', () => {\r\n            dispatch(action)\r\n        });\r\n\r\n        //vừa vào trang load tất cả ghế của các người khác đang đặt\r\n\r\n        connection.invoke(\"loadDanhSachGhe\", props.match.params.id);\r\n\r\n        //Load danh sách ghế đang đặt từ server về\r\n        connection.on(\"loadDanhSachGheDaDat\", (dsGheKhachDat) => {\r\n            console.log('danhSachGheKhachDat', dsGheKhachDat);\r\n\r\n            //b1: loại mình ra khỏi danh sách\r\n\r\n            dsGheKhachDat = dsGheKhachDat.filter(item => item.taiKhoan !== userLogin.taiKhoan);\r\n\r\n            //b2: gộp danh sách ghế khách đặt ở tất cả user thành 1 mảng chung\r\n\r\n            let arrGheKhachDat = dsGheKhachDat.reduce((result, item, index) => {\r\n                let arrGhe = JSON.parse(item.danhSachGhe);\r\n\r\n                return [...result, ...arrGhe];\r\n            }, [])\r\n            //Đưa dữ liệu ghế khách đặt cập nhật redux\r\n            arrGheKhachDat = _.uniqBy(arrGheKhachDat, 'maGhe');\r\n\r\n            //đưa dữ liệu về redux\r\n            dispatch({\r\n                type: DAT_GHE,\r\n                payload: arrGheKhachDat\r\n            })\r\n        })\r\n\r\n        //cài đặt sự kiện khi reload trang\r\n\r\n        window.addEventListener(\"beforeunload\", clearGhe);\r\n\r\n\r\n        return () => {\r\n            clearGhe();\r\n            window.removeEventListener(\"beforeunload\", clearGhe);\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearGhe = (event) => {\r\n\r\n        connection.invoke('huyDat', userLogin.taiKhoan, props.match.params.id)\r\n    }\r\n\r\n    console.log({ chiTietPhongVe });\r\n\r\n    console.log('danhSachGheDangDat', danhSachGheDangDat)\r\n\r\n    const { thongTinPhim, danhSachGhe } = chiTietPhongVe;\r\n\r\n\r\n    const renderGhe = () => {\r\n        return danhSachGhe.map((ghe, index) => {\r\n\r\n            let classGheVip = ghe.loaiGhe === 'Vip' ? 'gheVip' : '';\r\n            let classGheDaDat = ghe.daDat === true ? 'gheDaDat' : '';\r\n            let classGheDangDat = '';\r\n\r\n            let indexGheDangDat = danhSachGheDangDat.findIndex(gheDangDat => gheDangDat.maGhe === ghe.maGhe);\r\n\r\n            if (indexGheDangDat !== -1) {\r\n                classGheDangDat = 'gheDangDat';\r\n            }\r\n\r\n            let classGheDaDuocDat = '';\r\n            if (userLogin.taiKhoan === ghe.taiKhoanNguoiDat) {\r\n                classGheDaDuocDat = 'gheDaDuocDat';\r\n            }\r\n\r\n            let classGheKhachDat = '';\r\n            let indexGheKD = danhSachGheKhachDat.findIndex(gheKD => gheKD.maGhe === ghe.maGhe)\r\n            if (indexGheKD !== -1) {\r\n                classGheKhachDat = 'gheKhachDat';\r\n            }\r\n            return <Fragment key={index}>\r\n                <button type=\"button\" className={`ghe ${classGheVip}  ${classGheDaDat} ${classGheDangDat} ${classGheDaDuocDat} ${classGheKhachDat} text-center`} disabled={ghe.daDat || classGheKhachDat !== ''} onClick={() => {\r\n                    dispatch(datGheAction(ghe, props.match.params.id))\r\n                }} key={index} style={{ fontSize: 11 }}>\r\n                    {classGheDangDat !== '' ? ghe.stt : <Fragment><span className=\"opacity-0\">ghe</span></Fragment>}\r\n                </button>\r\n\r\n                {(index + 1) % 16 === 0 ? <br /> : ''}\r\n            </Fragment >\r\n        })\r\n    }\r\n\r\n\r\n    let classBtnDatVe = '';\r\n\r\n    if (danhSachGheDangDat.length === 0) {\r\n        classBtnDatVe = 'disabled';\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen\">\r\n            <div className=\"grid grid-cols-12\">\r\n                <div className=\"col-span-9\">\r\n                    <div className=\"flex flex-col items-center mt-5\">\r\n                        <div className=\"bg-black\" style={{ width: '80%', height: '15px' }}>\r\n\r\n                        </div>\r\n                        <div className={`${style['trapezoid']} text-center`}>\r\n                            <h3 className=\"mt-3\">Màn Hình</h3>\r\n                        </div>\r\n                        <div className=\"mt-8\">\r\n                            {renderGhe()}\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-5 flex justify-center\">\r\n                        <table className=\"divide-y divide-gray-200 w-2/3 text-center\" >\r\n                            <thead className=\"bg-gray-50 p-5\">\r\n                                <tr>\r\n                                    <th>Ghế chưa đặt</th>\r\n                                    <th>Ghế đang đặt</th>\r\n                                    <th>Ghế đã được đặt</th>\r\n                                    <th>Ghế vip</th>\r\n                                    <th>Ghế bạn đã đặt</th>\r\n                                    <th>Ghế người khác đang đặt</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                <tr>\r\n                                    <td><button className=\"ghe text-center\"></button></td>\r\n                                    <td><button className=\"ghe gheDangDat text-center\"></button></td>\r\n                                    <td><button className=\"ghe gheDaDat text-center\"></button></td>\r\n                                    <td><button className=\"ghe gheVip text-center\"></button></td>\r\n                                    <td><button className=\"ghe gheDaDuocDat text-center\"></button></td>\r\n                                    <td><button className=\"ghe gheKhachDat text-center\"></button></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"col-span-3 relative min-h-screen pt-5\">\r\n                    <h3 className=\"text-green-400 text-center text-4xl\">{danhSachGheDangDat.reduce((tongTien, gheDangDat, index) => {\r\n                        return tongTien += gheDangDat.giaVe;\r\n                    }, 0).toLocaleString()}đ</h3>\r\n\r\n                    <hr />\r\n\r\n                    <h3 className=\"text-xl tenPhim\">{thongTinPhim.tenPhim}</h3>\r\n                    <p>Địa điểm: {thongTinPhim.tenCumRap} - {thongTinPhim.tenRap}</p>\r\n                    <p>Ngày Chiếu: {thongTinPhim.ngayChieu} - {thongTinPhim.gioChieu}</p>\r\n\r\n                    <hr />\r\n\r\n                    <div className=\"scroll__bar__custom\" style={{ overflow: 'auto', height: 300, }}>\r\n                        <table className=\"table-fixed w-full text-left\">\r\n                            <thead>\r\n                                <tr className=\"\" style={{ fontSize: 20 }}>\r\n                                    <th className=\"w-1/3 text-red-400 text-lg\">Số ghế</th>\r\n                                    <th className=\"w-1/3 text-red-400 text-lg\">Loại ghế</th>\r\n                                    <th className=\"w-1/2 text-green-400 text-lg\">{danhSachGheDangDat.reduce((tongTien, gheDangDat, index) => {\r\n                                        return tongTien += gheDangDat.giaVe\r\n                                    }, 0).toLocaleString()}đ</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"\">\r\n                                {_.sortBy(danhSachGheDangDat, ['maGhe', 'loaiGhe']).map((gheDangDat, index) => {\r\n                                    return <tr key={index}>\r\n                                        <td className=\"text-md\">{gheDangDat.tenGhe}</td>\r\n                                        <td className=\"text-md\">{gheDangDat.loaiGhe}</td>\r\n                                        <td className=\"text-md\">{gheDangDat.giaVe.toLocaleString()}đ</td>\r\n                                    </tr>\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <hr />\r\n\r\n                    <div className=\"my-5\">\r\n                        <i>Email</i> <br />\r\n                        {userLogin.email}\r\n                    </div>\r\n                    <div className=\"my-5\">\r\n                        <i>Số Điện Thoại</i> <br />\r\n                        {userLogin.soDT}\r\n                    </div>\r\n\r\n                    <hr />\r\n                    <div className=\"mb-0 absolute left-0 right-0 bottom-0\">\r\n                        <div className={`${classBtnDatVe} checkout-button flex items-center justify-center`} onClick={() => {\r\n                            const thongTinDatVe = new ThongTinDatVe();\r\n                            thongTinDatVe.maLichChieu = props.match.params.id;\r\n                            thongTinDatVe.danhSachVe = danhSachGheDangDat;\r\n\r\n                            console.log(thongTinDatVe);\r\n                            dispatch(datVeAction(thongTinDatVe))\r\n                        }}>Đặt Vé</div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function CheckoutTab(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch({ type: CHANGE_TAB_ACTIVE, number: '1' })\r\n        }\r\n    }, [])\r\n\r\n    //menu for dropdown antd\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                <Link to=\"/profile\">Thông Tin Cá Nhân</Link>\r\n            </Menu.Item>\r\n            <Menu.Item>\r\n                <div onClick={() => {\r\n                    localStorage.removeItem(USER_LOGIN);\r\n                    localStorage.removeItem(ACCESS_TOKEN);\r\n                    history.push('/');\r\n                    window.location.reload();\r\n                }}>\r\n                    Đăng Xuất\r\n                </div>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const operations = <Fragment>\r\n        {!_.isEmpty(userLogin) ? <Fragment>\r\n            {userLogin.taiKhoan}\r\n            <Dropdown overlay={menu} placement=\"bottomCenter\" className=\"text-center\" arrow>\r\n                <button className=\"pr-7\" onClick={() => {\r\n                    history.push(`/profile`);\r\n                }}><UserProfile className=\"ml-5 rounded-full bg-blue-100\">{userLogin.taiKhoan.substr(0, 1)}</UserProfile></button>\r\n            </Dropdown>\r\n        </Fragment> : ''}\r\n    </Fragment>;\r\n\r\n\r\n\r\n    const { tabActive } = useSelector(state => state.QuanLyDatVeReducer);\r\n    console.log('tabActive', tabActive)\r\n\r\n\r\n    return <div className=\"p-5\">\r\n        <Tabs tabBarExtraContent={operations} defaultActiveKey=\"1\" activeKey={tabActive} onChange={(key) => {\r\n            dispatch({ type: CHANGE_TAB_ACTIVE, number: key })\r\n        }}>\r\n            <TabPane tab=\"01 CHỌN GHẾ & THANH TOÁN\" key=\"1\" >\r\n                <Checkout {...props} />\r\n            </TabPane>\r\n            <TabPane tab=\"KẾT QUẢ ĐẶT VÉ\" key=\"2\">\r\n                <KetQuaDatVe {...props} />\r\n            </TabPane>\r\n            <TabPane style={{}} tab={<NavLink to=\"/\" className=\"text-black\">TRANG CHỦ</NavLink>}>\r\n                <KetQuaDatVe {...props} />\r\n            </TabPane>\r\n        </Tabs>\r\n    </div>\r\n};\r\n\r\n\r\n\r\nfunction KetQuaDatVe(props) {\r\n\r\n    const { thongTinNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const action = layThongTinTaiKhoanAction();\r\n        dispatch(action)\r\n    }, [dispatch])\r\n\r\n    console.log('thongTinNguoiDung', thongTinNguoiDung);\r\n\r\n\r\n    const renderTicketItem = () => {\r\n        return thongTinNguoiDung.thongTinDatVe?.map((ticket, index) => {\r\n\r\n            const danhSachGhe = _.first(ticket.danhSachGhe);\r\n            return <div className=\"p-2 lg:w-1/3 md:w-1/2 w-full\" key={index}>\r\n                <div className=\"h-full flex items-center border-gray-200 border p-4 rounded-lg\">\r\n                    <img alt=\"team\" className=\"w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4\" src={ticket.hinhAnh} />\r\n                    <div className=\"flex-grow\">\r\n                        <h2 className=\"text-gray-900 title-font font-medium\">{ticket.tenPhim}</h2>\r\n                        <p className=\"text-gray-500\">{moment(ticket.ngayDat).format('hh:mm A')} - Ngày Chiếu {moment(ticket.ngayDat).format('DD-MM-YYYY')} </p>\r\n                        <p className=\"text-gray-500\">Thời Lượng: {ticket.thoiLuongPhim} phút</p>\r\n                        <p className=\"text-gray-500\">Địa điểm: {danhSachGhe.tenHeThongRap}</p>\r\n                        <p className=\"text-gray-500\">Tên Rạp: {danhSachGhe.tenCumRap} - Ghế {ticket.danhSachGhe.map((ghe, index) => {\r\n                            return <span key={index}> {ghe.tenGhe} </span>\r\n                        })}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }).reverse()\r\n    }\r\n\r\n    return <div className=\"p-5\">\r\n        <section className=\"text-gray-600 body-font\">\r\n            <div className=\"container px-5 mx-auto\">\r\n                <div className=\"flex flex-col text-center w-full mb-10\">\r\n                    <h1 className=\"sm:text-3xl text-2xl font-medium title-font mb-4 text-purple-600\">Lịch Sử Đặt Vé </h1>\r\n                    <p className=\"lg:w-2/3 mx-auto leading-relaxed text-base\">Hãy xem thông tin và thời gian để xem phim vui vẻ bạn nhé.</p>\r\n                </div>\r\n                <div className=\"flex flex-wrap m-2\">\r\n                    {renderTicketItem()}\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n    </div>\r\n}\r\n\r\nconst UserProfile = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n","import { Fragment, useEffect, useState } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\nimport { USER_LOGIN } from \"../../Util/setting\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useWindowSize } from 'react-use';\r\n\r\n\r\n\r\n\r\nconst CheckoutTemplate = (props) => { //path, exact, Component\r\n\r\n    const { Component, ...restProps } = props;\r\n\r\n    const { width, height } = useWindowSize();\r\n\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n\r\n    }, [])\r\n\r\n    if (!localStorage.getItem(USER_LOGIN)) {\r\n        return <Redirect to=\"/login\" />\r\n    }\r\n\r\n    const renderComponent = (propsRoute) => {\r\n        if (width <= 420) {\r\n            if (props.ComponentMobile) {\r\n                return <props.ComponentMobile {...propsRoute} />\r\n            }\r\n        } else if (width <= 1024) {\r\n            if (props.ComponentIpad) {\r\n                return <props.ComponentIpad {...propsRoute} />\r\n            }\r\n        }\r\n        else {\r\n            return <props.Component {...propsRoute} />\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return <Route {...restProps} render={(propsRoute) => { //props.location, props.history, props.match\r\n        return <Fragment>\r\n\r\n            {renderComponent(propsRoute)}\r\n\r\n        </Fragment>\r\n\r\n    }} />\r\n}\r\n\r\n\r\nexport default CheckoutTemplate;","import { Fragment, useEffect } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nexport const UserTemplate = (props) => { //path, exact, Component\r\n\r\n    const { Component, ...restProps } = props;\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n\r\n    return <Route {...restProps} render={(propsRoute) => { //props.location, props.history, props.match\r\n        return <Fragment>\r\n            <Component {...propsRoute} />\r\n        </Fragment>\r\n\r\n    }} />\r\n}","import React, { Fragment } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Loading(props) {\r\n\r\n\r\n    const { isLoading } = useSelector(state => state.LoadingReducer);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            {isLoading ? <div style={{ position: 'fixed', top: 0,   left: 0, width: '100%', height: '100%', backgroundColor: 'rgba(0,0,0,.5)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 99 }}>\r\n                <div className=\"text-4xl\">Loading...</div>\r\n            </div> : ''}\r\n\r\n        </Fragment>\r\n\r\n\r\n    )\r\n}\r\n","import _ from 'lodash';\r\nimport moment from 'moment';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { capNhatNguoiDungAction, layDanhSachNguoiDungAction, layThongTinTaiKhoanAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\n\r\nimport { Button, Modal, Popover } from 'antd';\r\nimport './Profile.scss';\r\nimport { useState } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ACCESS_TOKEN, GROUPID, USER_LOGIN } from '../../Util/setting';\r\nimport { history } from '../../App';\r\n\r\nimport { EditOutlined, LogoutOutlined, HistoryOutlined, ImportOutlined } from '@ant-design/icons';\r\n\r\n\r\nexport default function Profile() {\r\n\r\n    const { thongTinNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n    const { danhSachNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [isLichSuDatVeModal, setIsLichSuDatVeModal] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(layThongTinTaiKhoanAction())\r\n        dispatch(layDanhSachNguoiDungAction());\r\n    }, [])\r\n\r\n    console.log('danhSachNguoiDung', danhSachNguoiDung)\r\n\r\n\r\n    const locNguoiDung = danhSachNguoiDung.filter(user => user.taiKhoan === thongTinNguoiDung.taiKhoan);\r\n    console.log('locNguoiDung.maLoaiNguoiDung', locNguoiDung[0])\r\n    const loaiNguoiDung = locNguoiDung[0];\r\n    console.log('Loại Người Dùng', loaiNguoiDung?.maLoaiNguoiDung)\r\n\r\n    let maLoaiNguoiDung = loaiNguoiDung?.maLoaiNguoiDung;\r\n\r\n    if (maLoaiNguoiDung !== 'QuanTri') {\r\n        maLoaiNguoiDung = 'KhachHang';\r\n    }\r\n\r\n    console.log(maLoaiNguoiDung);\r\n\r\n    console.log('thongTinNguoiDung', thongTinNguoiDung);\r\n\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            taiKhoan: thongTinNguoiDung.taiKhoan,\r\n            hoTen: thongTinNguoiDung.hoTen,\r\n            email: thongTinNguoiDung.email,\r\n            soDt: thongTinNguoiDung.soDT,\r\n            matKhau: thongTinNguoiDung.matKhau,\r\n            maLoaiNguoiDung: maLoaiNguoiDung,\r\n        },\r\n        validationSchema: Yup.object().shape({\r\n            hoTen: Yup.string().required('Không được bỏ trống!!!').matches('^[A-Z a-z]+$', 'Vui lòng nhập họ tên phù hợp!!!'),\r\n            taiKhoan: Yup.string().required('không được bỏ trống!!!'),\r\n            email: Yup.string().required('không được bỏ trống!!!').email('không hợp lệ!!!'),\r\n            matKhau: Yup.string().required('không được bỏ trống!!!').min(6, 'phải từ 6-32 ký tự!!!').max(32, 'phải từ 6 - 32 ký tự!!!'),\r\n            soDt: Yup.string().required('không được bỏ trống!!!').min(10, 'Vui lòng nhập số điện thoại hợp lệ!!!').max(11, 'Vui lòng nhập số điện thoại hợp lệ!!!').matches('^[0-9]+$', 'Vui lòng nhập số điện thoại!!!'),\r\n        }),\r\n\r\n        onSubmit: async (values) => {\r\n\r\n            values.maNhom = GROUPID;\r\n            await dispatch(capNhatNguoiDungAction(values));\r\n            await setIsModalVisible(false);\r\n            await dispatch(layThongTinTaiKhoanAction())\r\n        }\r\n    })\r\n\r\n    const renderTicketItem = () => {\r\n        return thongTinNguoiDung.thongTinDatVe?.map((ticket, index) => {\r\n\r\n            const danhSachGhe = _.first(ticket.danhSachGhe);\r\n            return <div className=\"w-full mt-2\" key={index}>\r\n                <div className=\"h-full flex items-center border-gray-200 border p-4 rounded-lg\">\r\n                    <div className=\"flex-grow\">\r\n                        <h2 className=\"text-gray-900 title-font font-medium\">{ticket.tenPhim}</h2>\r\n                        <p className=\"text-gray-500\">Địa điểm: {danhSachGhe.tenHeThongRap}</p>\r\n                        <p className=\"text-gray-500\">Tên Rạp: {danhSachGhe.tenCumRap} - Ghế {ticket.danhSachGhe.map((ghe, index) => {\r\n                            return <span key={index}> {ghe.tenGhe} </span>\r\n                        })}</p>\r\n                        <p className=\"text-gray-500\">Giờ Chiếu: {moment(ticket.ngayDat).format('hh:mm A')} - Ngày Chiếu {moment(ticket.ngayDat).format('DD-MM-YYYY')} </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }).reverse();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"max-w-4xl flex items-center h-auto lg:h-screen flex-wrap mx-auto my-32 lg:my-0\">\r\n                {/*Main Col*/}\r\n                <div id=\"profile\" className=\"w-full lg:w-3/5 rounded-lg lg:rounded-l-lg lg:rounded-r-none shadow-2xl bg-white opacity-75 mx-6 lg:mx-0\">\r\n                    <div className=\"p-4 md:p-12 text-center lg:text-left\">\r\n                        {/* Image for mobile view*/}\r\n                        <div className=\"block lg:hidden rounded-full shadow-xl mx-auto -mt-16 h-48 w-48 bg-cover bg-center\" style={{ backgroundImage: 'url(\"images/user.png\")' }} />\r\n                        <h1 className=\"text-3xl font-bold pt-8 lg:pt-0\">{thongTinNguoiDung.hoTen}</h1>\r\n                        <div className=\"mx-auto lg:mx-0 w-4/5 pt-3 border-b-2 border-yellow-700 opacity-25\" />\r\n                        <p className=\"pt-4 text-base font-bold flex items-center justify-center lg:justify-start\">Email: {thongTinNguoiDung.email}</p>\r\n                        <p className=\"pt-4 text-base font-bold flex items-center justify-center lg:justify-start\">Số Điện Thoại: {thongTinNguoiDung.soDT}</p>\r\n                        <p className=\"pt-4 text-base font-bold flex items-center justify-center lg:justify-start\">Tài Khoản: {thongTinNguoiDung.taiKhoan}</p>\r\n                        <div className=\"pt-5 flex items-center justify-between\">\r\n\r\n                            {thongTinNguoiDung.maLoaiNguoiDung === 'QuanTri' ? (<div className=\"\">\r\n                                <button className=\"bg-black text-white duration-300 hover:bg-yellow-400 hover:text-black font-bold py-2 px-10 rounded-md\" onClick={() => {\r\n                                    history.push('/admin');\r\n                                }}>\r\n                                    Quản Lý\r\n                                </button>\r\n                            </div>) : ''}\r\n\r\n                            <div>\r\n                                <Popover content=\"Sửa Thông Tin\"><EditOutlined onClick={showModal} className=\"text-2xl hover:text-yellow-400 duration-300 mr-5\" /></Popover>\r\n                                <Popover content=\"Xem Lịch Sử Đặt Vé\"><HistoryOutlined onClick={() => {\r\n                                    setIsLichSuDatVeModal(true)\r\n                                }} className=\"text-2xl hover:text-yellow-400 duration-300 mr-5\" /></Popover>\r\n                                <Popover content=\"Đăng Xuất\">\r\n                                    <ImportOutlined onClick={() => {\r\n                                        localStorage.removeItem(USER_LOGIN);\r\n                                        localStorage.removeItem(ACCESS_TOKEN);\r\n                                        history.push('/');\r\n                                        window.location.reload();\r\n                                    }} className=\"text-2xl hover:text-yellow-400 duration-300 mr-5\" />\r\n                                </Popover>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        </div>\r\n\r\n\r\n                        <Modal title=\"Cập Nhật Thông Tin\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} className=\"capNhatProfile\" footer={null}>\r\n                            <form onSubmit={formik.handleSubmit}>\r\n                                <div >\r\n                                    <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">Tài Khoản {formik.errors.taiKhoan && formik.touched.taiKhoan ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formik.errors.taiKhoan} </span>) : null}</label>\r\n                                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" name=\"taiKhoan\" type=\"text\" onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.taiKhoan}></input>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">Họ Tên {formik.errors.hoTen && formik.touched.hoTen ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formik.errors.hoTen} </span>) : null}</label>\r\n                                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" name=\"hoTen\" type=\"text\" onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.hoTen}></input>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">Email {formik.errors.email && formik.touched.email ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formik.errors.email} </span>) : null}</label>\r\n                                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" name=\"email\" type=\"text\" onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.email}></input>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">Số ĐT {formik.errors.soDt && formik.touched.soDt ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formik.errors.soDt} </span>) : null}</label>\r\n                                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" name=\"soDt\" type=\"text\" onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.soDt}></input>\r\n                                </div>\r\n                                <div className=\"mt-2\">\r\n                                    <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">Mật Khẩu {formik.errors.matKhau && formik.touched.matKhau ? (<span style={{ color: 'red' }}><span className=\"text-black\">:</span> {formik.errors.matKhau} </span>) : null}</label>\r\n                                    <input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" name=\"matKhau\" type=\"password\" onChange={formik.handleChange} onBlur={formik.handleBlur} value={formik.values.matKhau}></input>\r\n                                </div>\r\n\r\n                                <div className=\"text-right mt-5\">\r\n                                    <Button type=\"primary\" htmlType=\"submit\" className=\"bg-blue-700 hover:bg-blue-900\">Cập Nhật</Button>\r\n                                </div>\r\n                            </form>\r\n                        </Modal>\r\n\r\n                        <Modal title=\"Lịch sử Đặt vé\" visible={isLichSuDatVeModal} onOk={() => { setIsLichSuDatVeModal(false) }} onCancel={() => { setIsLichSuDatVeModal(false) }} footer={null}>\r\n                            <div className=\"scroll__bar__custom w-full\" style={{ height: '400px', overflow: 'auto' }}>\r\n                                {renderTicketItem()}\r\n                            </div>\r\n                        </Modal>\r\n                        {/* Use https://simpleicons.org/ to find the svg for your preferred product */}\r\n                    </div>\r\n                </div>\r\n                {/*Img Col*/}\r\n                <div className=\"w-full lg:w-2/5\">\r\n                    {/* Big profile image for side bar (desktop) */}\r\n                    <img src=\"https://images.unsplash.com/photo-1560109947-543149eceb16?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=375&q=80\" className=\"rounded-none lg:rounded-lg shadow-2xl hidden lg:block\" alt=\"...\" style={{ height: '520px' }} />\r\n                    {/* Image from: http://unsplash.com/photos/MP0IUfwrn0A */}\r\n                </div>\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\n","import { Fragment, useEffect, useState } from \"react\";\r\nimport { Route, Redirect, NavLink, Link } from 'react-router-dom';\r\nimport { ACCESS_TOKEN, USER_LOGIN } from \"../../Util/setting\";\r\nimport _ from 'lodash';\r\n\r\nimport { Layout, Menu, Breadcrumb, Avatar, Select } from 'antd';\r\nimport {\r\n    DesktopOutlined,\r\n    PieChartOutlined,\r\n    FileOutlined,\r\n    UserOutlined,\r\n    InsertRowBelowOutlined\r\n} from '@ant-design/icons';\r\nimport { useSelector } from \"react-redux\";\r\nimport { history } from \"../../App\";\r\nimport styled from \"styled-components\";\r\nconst { Option } = Select;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\n\r\n\r\nexport const AdminTemplate = (props) => { //path, exact, Component\r\n\r\n\r\n    const { userLogin } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    const onCollapse = collapsed => {\r\n        setCollapsed(collapsed)\r\n    };\r\n    const getPath = props.location.pathname;\r\n    const path = getPath.split(\"/\");\r\n    const { Component, ...restProps } = props;\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n\r\n\r\n    if (!localStorage.getItem(USER_LOGIN)) {\r\n        alert('Bạn không có quyền truy cập vào trang này!!!');\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    if (userLogin.maLoaiNguoiDung !== 'QuanTri') {\r\n        alert('Bạn không có quyền truy cập vào trang này!!!');\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    const username = localStorage.getItem(USER_LOGIN) ? JSON.parse(localStorage.getItem(USER_LOGIN)).taiKhoan : '';\r\n\r\n    // const operations = <Fragment>\r\n    //     {!_.isEmpty(userLogin) ? <Fragment>\r\n    //         <button onClick={() => {\r\n    //             history.push(`/profile`);\r\n    //         }}><UserProfile className=\"ml-5 rounded-full bg-red-200 text-xl\">{userLogin.taiKhoan.substr(0, 1)}</UserProfile></button>\r\n    //         <button onClick={() => {\r\n    //             localStorage.removeItem(USER_LOGIN);\r\n    //             localStorage.removeItem(ACCESS_TOKEN);\r\n    //             history.push('/');\r\n    //             window.location.reload();\r\n    //         }} className=\"text-blue-800 ml-10\">Đăng xuất</button>\r\n    //     </Fragment> : ''}\r\n    // </Fragment>;\r\n    const handleChange = async (value) => {\r\n        if (value == 'logout') {\r\n            localStorage.removeItem(USER_LOGIN);\r\n            localStorage.removeItem(ACCESS_TOKEN);\r\n            history.push('/');\r\n            window.location.reload();\r\n    \r\n        }\r\n    }\r\n    const ListRouter = (props) => {\r\n        switch (props) {\r\n            case 'admin':\r\n                return `/admin`;\r\n            case 'user':\r\n                return `/admin/users`;\r\n            case 'films':\r\n                return `/admin/films`;\r\n            case 'films-shedule':\r\n                return `/admin/films-shedule`;\r\n            default: \r\n                return 'other'\r\n        }\r\n    }\r\n\r\n    return <Route {...restProps} render={(propsRoute) => { //props.location, props.history, props.match\r\n        return <Fragment>\r\n\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n                <NavLink className=\"navbar-brand\" to=\"/\">\r\n                    <div className=\"logo p-5\">\r\n                        <Link to=\"/\"><img src=\"https://cyberlearn.vn/wp-content/uploads/2020/03/cyberlearn-min-new-opt2.png\" alt=\"logo\"/></Link>\r\n                    </div>\r\n                    </NavLink>\r\n                  \r\n                    <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                        <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\r\n                            <NavLink to=\"/admin\">Dashboard</NavLink>\r\n                            \r\n                        </Menu.Item>\r\n                        {/* <Menu.Item key=\"2\" icon={<UserOutlined />}>\r\n                            <NavLink to=\"/admin/users\">Users</NavLink>\r\n                        </Menu.Item> */}\r\n                        <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"Users\">\r\n                            <Menu.Item key=\"2\" icon={<UserOutlined />}>\r\n                                <NavLink to=\"/admin/users\">Users</NavLink>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"3\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/admin/users/addnew\">Add new</NavLink>\r\n                            </Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" icon={<DesktopOutlined />} title=\"Films\">\r\n                            <Menu.Item key=\"4\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/admin/films\">Films</NavLink>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"5\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/admin/films/addnew\">Add new</NavLink>\r\n                            </Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub3\" icon={<InsertRowBelowOutlined />} title=\"MOfficeTicket\">\r\n                            <Menu.Item key=\"6\" icon={<FileOutlined />}>\r\n                                <NavLink to=\"/admin/films-shedule\">Schedule Films</NavLink>\r\n                            </Menu.Item>\r\n\r\n                        </SubMenu>\r\n                        {/* <Menu.Item key=\"4\" icon={<DesktopOutlined />}>\r\n                            <NavLink to=\"/admin/showtime\">Showtime</NavLink>\r\n                        </Menu.Item> */}\r\n                        {/* <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\r\n                            <Menu.Item key=\"3\">Tom</Menu.Item>\r\n                            <Menu.Item key=\"4\">Bill</Menu.Item>\r\n                            <Menu.Item key=\"5\">Alex</Menu.Item>\r\n                        </SubMenu>\r\n                        <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\r\n                            <Menu.Item key=\"6\">Team 1</Menu.Item>\r\n                            <Menu.Item key=\"8\">Team 2</Menu.Item>\r\n                        </SubMenu>\r\n                        <Menu.Item key=\"9\" icon={<FileOutlined />}>\r\n                            Files\r\n                        </Menu.Item> */}\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"\" style={{padding: 0, backgroundColor: '#fff', alignItems: 'center', display:'flex', justifyContent: 'flex-end' }}>\r\n                        <div className=\"text-right pr-10 pt-1\" style={{display:'flex', alignItems:'center', height:'auto'}}>\r\n                        <Avatar size=\"large\" style={{ color: '#FFFFFF', backgroundColor: '#40ADFF', marginRight: \"10px\" }} icon={<UserOutlined onClick={()=>{\r\n                            history.push(`/profile`);\r\n                        }} />} />\r\n                        <Select value={username} style={{ width: 120 }} onChange={handleChange}>\r\n                            <Option value=\"logout\" >Logout</Option>\r\n                        </Select>\r\n                        </div>\r\n                        {/* <div className=\"text-right pr-10 pt-1\">{operations}</div> */}\r\n                    </Header>\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Breadcrumb style={{ margin: '16px 0' }}>\r\n                            {/* <Breadcrumb.Item>User</Breadcrumb.Item> \r\n                            <Breadcrumb.Item>Bill</Breadcrumb.Item> */}\r\n                \r\n                             {path.map((v, index) => {\r\n                                console.log('page',v )\r\n                                return <Breadcrumb.Item><NavLink key={index} to={ListRouter(v)==='other' ? `/${v}` : ListRouter(v)}>{v}</NavLink></Breadcrumb.Item>\r\n                            })\r\n                            }\r\n                        </Breadcrumb>\r\n                        <div className=\"bg-white h-full\" style={{ padding: 24, minHeight: 360 }}>\r\n                            <Component {...propsRoute} />\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n                </Layout>\r\n            </Layout>\r\n\r\n\r\n        </Fragment>\r\n\r\n    }} />\r\n}\r\n\r\n\r\nconst UserProfile = styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`","import React from 'react'\r\n\r\nexport default function Dashboard() {\r\n    return (\r\n        <div>\r\n            Dashboard\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect } from 'react'\r\n\r\nimport { Button, Table, Input, Image, Popover } from 'antd';\r\n\r\nimport { AudioOutlined, EditOutlined, DeleteOutlined, CalendarOutlined  } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { layDanhSachPhimAction, xoaPhimAction } from '../../../redux/actions/QuanLyPhimAction';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { history } from '../../../App';\r\nimport Swal from 'sweetalert2';\r\nimport moment from 'moment';\r\nimport { Row, Col, Divider  } from 'antd';\r\n\r\n\r\nconst { Search } = Input;\r\n\r\nconst suffix = (\r\n    <AudioOutlined\r\n        style={{\r\n            fontSize: 16,\r\n            color: '#1890ff',\r\n        }}\r\n    />\r\n);\r\n\r\nexport default function Films() {\r\n\r\n\r\n    const { arrFilmDefault } = useSelector(state => state.QuanLyPhimReducer);\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        dispatch(layDanhSachPhimAction());\r\n    }, [])\r\n    \r\n    const columns = [\r\n        {\r\n            title: 'Mã Phim',\r\n            dataIndex: 'maPhim',\r\n\r\n            width: '10%',\r\n            sorter: (a, b) => a.maPhim - b.maPhim,\r\n            sortDirections: ['descend', 'ascend'],\r\n            // sortOrder: ['descend']\r\n        },\r\n        {\r\n            title: 'Hình Ảnh',\r\n            dataIndex: 'hinhAnh',\r\n            render: (text, film) => {\r\n                return <Fragment><Image src={film.hinhAnh} alt={film.tenPhim} style={{ minHeight: 70, maxHeight: 70 }} width={50} onError={(e) => { e.target.onerror = null; e.target.src = \"https://developers.google.com/maps/documentation/streetview/images/error-image-generic.png\" }} /></Fragment>\r\n            },\r\n            sorter: (a, b) => a.age - b.age,\r\n            width: '10%',\r\n        },\r\n        {\r\n            title: 'Tên Phim',\r\n            dataIndex: 'tenPhim',\r\n            width: '20%',\r\n\r\n            sorter: (a, b) => {\r\n                let tenPhimA = a.tenPhim.toLowerCase().trim();\r\n                let tenPhimB = b.tenPhim.toLowerCase().trim();\r\n\r\n                if (tenPhimA > tenPhimB) {\r\n                    return 1;\r\n                }\r\n                return -1;\r\n            },\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n        {\r\n            title: 'Mô Tả',\r\n            dataIndex: 'moTa',\r\n\r\n            sorter: (a, b) => {\r\n                let moTaA = a.moTa.toLowerCase().trim();\r\n                let moTaB = b.moTa.toLowerCase().trim();\r\n\r\n                if (moTaA > moTaB) {\r\n                    return 1;\r\n                }\r\n                return -1;\r\n            },\r\n\r\n            render: (text, film) => (<Fragment>\r\n                {film.moTa.length > 100 ? film.moTa.slice(0, 100) + '...' : film.moTa}\r\n            </Fragment>)\r\n\r\n            ,\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n        {\r\n            title: 'NGÀY KHỞI CHIẾU',\r\n            dataIndex: 'ngayKhoiChieu',\r\n            render: (text, film) => (<Fragment>\r\n                {moment(film.ngayKhoiChieu).format(\"DD/MM/YYYY\")}\r\n            </Fragment>)\r\n        },\r\n        {\r\n            title: 'ĐÁNH GIÁ',\r\n            dataIndex: 'danhGia',\r\n            sorter: (a, b) => a.danhGia - b.danhGia,\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n        {\r\n            title: 'Hành Động',\r\n            dataIndex: 'hanhDong',\r\n\r\n            render: (text, film) => (<Fragment>\r\n                <NavLink key={1} className=\"hover:text-blue-400 text-xl text-black\" to={`/admin/films/edit/${film.maPhim}`}><Popover content=\"Cập nhật\"> <EditOutlined /> </Popover> </NavLink>\r\n                <NavLink key={2} className=\"hover:text-red-800 text-xl text-black\"to={`/admin/films`} onClick={()=>{\r\n                    // if(window.confirm('Ban co chac muon xoa phim'+ film.tenPhim)){\r\n                    //     dispatch(xoaPhimAction(film.maPhim))\r\n                    // }\r\n                    Swal.fire({\r\n                        title: `Bạn có chắc muốn xóa phim !`,\r\n                        text: film.tenPhim,\r\n                        icon: 'question',\r\n                        showCancelButton: true,\r\n                        confirmButtonColor: '#fb4226',\r\n                        cancelButtonColor: 'rgb(167 167 167)',\r\n                        confirmButtonText: 'OK'\r\n                    }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                            dispatch(xoaPhimAction(film.maPhim))\r\n                        }\r\n                    })\r\n                }}><Popover content=\"Xoá phim\"><DeleteOutlined /> </Popover> </NavLink>\r\n                <NavLink key={3} className=\"hover:text-green-400 text-xl text-black\" to={`/admin/films/showtime/${film.maPhim}/${film.tenPhim}`} onClick={()=>{\r\n                    localStorage.setItem('filmParams', JSON.stringify(film))\r\n                }}><Popover content=\"Tạo lịch chiếu\"><CalendarOutlined /> </Popover> </NavLink>\r\n\r\n\r\n            </Fragment>)\r\n\r\n            ,\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n    ];\r\n\r\n    const data = arrFilmDefault;\r\n\r\n\r\n    function onChange(pagination, filters, sorter, extra) {\r\n        console.log('params', pagination, filters, sorter, extra);\r\n    }\r\n    const onSearch = (value) => {\r\n        console.log(value)\r\n        dispatch(layDanhSachPhimAction(value))\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n         <Row >\r\n            <Col span={24}>\r\n                <Divider orientation=\"left\">Quản Lý Phim</Divider>\r\n             </Col>\r\n             <Col span={24}>\r\n                    <Button className=\"mt-5 mb-5\" onClick={()=>{\r\n                        history.push('/admin/films/addnew')\r\n                    }}>Thêm Phim</Button>\r\n                  \r\n             </Col>\r\n             <Col span={6}>\r\n                <Search placeholder=\"Nhập để tìm phim\" onSearch={onSearch} enterButton className=\"mb-5\" />\r\n             </Col>\r\n            <Col span={24} style={{marginRight:10}}>\r\n                <Table columns={columns} dataSource={data} onChange={onChange} rowKey={\"maPhim\"} scroll={{ x: 400 }}/>\r\n            </Col>\r\n        </Row>\r\n        </>\r\n       \r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\n\r\nimport { Button, Table, Popover, Input } from 'antd';\r\n\r\nimport {  EditOutlined, DeleteOutlined, CalendarOutlined  } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { history } from '../../../App';\r\nimport Swal from 'sweetalert2';\r\nimport { layDanhSachNguoiDungAction, xoaNguoiDungAction } from '../../../redux/actions/QuanLyNguoiDungAction';\r\nimport { Row, Col, Divider  } from 'antd';\r\nconst { Search } = Input;\r\n\r\nexport default function Users() {\r\n\r\n\r\n    const { danhSachNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    console.log('DanhSachNguoiDungClient', danhSachNguoiDung)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(layDanhSachNguoiDungAction());\r\n    }, [])\r\n    \r\n    const columns = [\r\n        {\r\n            title: 'TÀI KHOẢN',\r\n            dataIndex: 'taiKhoan',\r\n            width: '10%',\r\n            sorter: (a, b) => {\r\n                let taiKhoanA = a.taiKhoan.toLowerCase().trim();\r\n                let taiKhoanB = b.taiKhoan.toLowerCase().trim();\r\n\r\n                if (taiKhoanA > taiKhoanB) {\r\n                    return 1;\r\n                }\r\n                return -1;\r\n            },\r\n            sortDirections: ['descend', 'ascend'],\r\n            // sortOrder: ['descend']\r\n        },\r\n        {\r\n            title: 'HỌ TÊN',\r\n            dataIndex: 'hoTen',\r\n            sorter: (a, b) => {\r\n                let hoTenA = a.hoTen.toLowerCase().trim();\r\n                let hoTenB = b.hoTen.toLowerCase().trim();\r\n\r\n                if (hoTenA > hoTenB) {\r\n                    return 1;\r\n                }\r\n                return -1;\r\n            },\r\n            width: '10%',\r\n        },\r\n        {\r\n            title: 'EMAIL',\r\n            dataIndex: 'email',\r\n            width: '10%',\r\n            sorter: (a, b) => {\r\n                let emailA = a.email.toLowerCase().trim();\r\n                let emailB = b.email.toLowerCase().trim();\r\n\r\n                if (emailA > emailB) {\r\n                    return 1;\r\n                }\r\n                return -1;\r\n            },\r\n    \r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n        {\r\n            title: 'SĐT',\r\n            dataIndex: 'soDt',\r\n            sorter: (a, b) => a.soDt - b.soDt,\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n        {\r\n            title: 'MẬT KHẨU',\r\n            dataIndex: 'matKhau',\r\n        },\r\n        {\r\n            title: 'MÃ LOẠI NGƯỜI DÙNG',\r\n            dataIndex: 'maLoaiNguoiDung',\r\n            responsive: [\"sm\"]\r\n        },\r\n        {\r\n            title: 'Hành Động',\r\n            dataIndex: 'hanhDong',\r\n            responsive: [\"sm\"],\r\n            render: (text, NguoiDung) => (<Fragment>\r\n                \r\n                <NavLink key={1} className=\"hover:text-blue-400 text-xl text-black\" to={`/admin/users/edit/${NguoiDung.taiKhoan}`}><Popover content=\"Cập nhật\"><EditOutlined /> </Popover></NavLink>\r\n                <NavLink key={2} className=\"hover:text-red-800 text-xl text-black\"to={`/admin/users`} onClick={()=>{\r\n                    // if(window.confirm('Bạn có chăc'+ NguoiDung.hoTen)){\r\n                    //     dispatch(xoaNguoiDungAction(NguoiDung.taiKhoan))\r\n                    // }\r\n                    Swal.fire({\r\n                        title: `Bạn có chắc muốn xóa người dùng !`,\r\n                        text: NguoiDung.hoTen,\r\n                        icon: 'question',\r\n                        showCancelButton: true,\r\n                        confirmButtonColor: '#fb4226',\r\n                        cancelButtonColor: 'rgb(167 167 167)',\r\n                        confirmButtonText: 'OK'\r\n                    }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                            dispatch(xoaNguoiDungAction(NguoiDung.taiKhoan))\r\n                        }\r\n                    })\r\n                }}><Popover content=\"Xoá\"><DeleteOutlined />  </Popover></NavLink>\r\n                 <NavLink className=\"hover:text-green-400 text-xl text-black\" to={`/admin/users/booked/${NguoiDung.taiKhoan}`}><Popover content=\"Danh sách phim đã đặt!\"><CalendarOutlined /> </Popover></NavLink>\r\n                {/* <NavLink key={3} className=\"hover:text-green-400 text-xl text-black\" to={`/admin/films/showtime/${film.maPhim}/${film.tenPhim}`} onClick={()=>{\r\n                    localStorage.setItem('filmParams', JSON.stringify(film))\r\n                }}><CalendarOutlined /> </NavLink> */}\r\n\r\n\r\n            </Fragment>)\r\n\r\n            ,\r\n            sortDirections: ['descend', 'ascend'],\r\n        },\r\n    ];\r\n\r\n    const data = danhSachNguoiDung;\r\n\r\n\r\n    function onChange(pagination, filters, sorter, extra) {\r\n        console.log('params', pagination, filters, sorter, extra);\r\n    }\r\n\r\n    const onSearch = (value) => {\r\n        console.log(value)\r\n        if(value != '') {\r\n            dispatch(layDanhSachNguoiDungAction(value, true))\r\n        }else {\r\n            dispatch(layDanhSachNguoiDungAction(value))\r\n        }\r\n       \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <Row >\r\n           <Col span={24}>\r\n               <Divider orientation=\"left\">Quản lý tài khoản</Divider>\r\n            </Col>\r\n            <Col span={24}>\r\n                <Button className=\"mt-5 mb-5\" onClick={()=>{\r\n                    history.push('/admin/users/addnew')\r\n                }}>Thêm Tài khoản</Button>\r\n                    \r\n            </Col>\r\n            <Col span={6}>\r\n                <Search placeholder=\"Nhập để tìm tài khoản\" onSearch={onSearch}  enterButton className=\"mb-5\" />\r\n            </Col>\r\n           <Col span={24} style={{marginRight:10}}>\r\n                <Table columns={columns} dataSource={data} onChange={onChange}  rowKey={\"taiKhoan\"} scroll={{ x: 400 }}/>\r\n           </Col>\r\n       </Row>\r\n       </>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Form, InputNumber, Button, DatePicker, Image, Select } from 'antd';\r\nimport { quanLyRapService } from '../../../services/QuanLyRapService';\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport { quanLyDatVeService } from '../../../services/QuanLyDatVeService';\r\nimport { Row, Col, Divider  } from 'antd';\r\n\r\nexport default function Showtime(props) {\r\n     const formik = useFormik({\r\n         initialValues: {\r\n             maPhim: props.match.params.id,\r\n             ngayChieuGioChieu:'',\r\n             maRap: '',\r\n             giaVe:'',\r\n         },\r\n         onSubmit : async (values) =>{\r\n             console.log('values' ,values)\r\n             try {\r\n                let result = await quanLyDatVeService.taoLichChieu(values)\r\n                alert(result.data.content);\r\n    \r\n            }catch (error) {\r\n                console.log('errors', error.response?.data);\r\n            }\r\n         }\r\n     })\r\n    const [state, setState] = useState({\r\n        heThongRapChieu:[],\r\n        cumRapChieu:[]\r\n    })\r\n\r\n    useEffect(async() => {\r\n            try{\r\n                let result = await quanLyRapService.layDanhSachHeThongRap();\r\n                setState({\r\n                    ...state,\r\n                    heThongRapChieu: result.data.content\r\n                });\r\n               }catch(errors){\r\n                console.log('errors', errors.response?.data);\r\n               }\r\n    }, [])\r\n    const handleChangeHeThongRap = async (values) => {\r\n        try {\r\n            let result = await quanLyRapService.layThongTinCumRap(values)\r\n            setState({\r\n                ...state,\r\n                cumRapChieu: result.data.content\r\n            })\r\n\r\n        }catch (error) {\r\n            console.log('errors', error.response?.data);\r\n        }\r\n    }\r\n    console.log('state', state)\r\n    const handleChangeCumRap = async (values) => {\r\n      formik.setFieldValue('maRap',values)\r\n    }\r\n    const onOK = (values) => {\r\n        formik.setFieldValue('ngayChieuGioChieu',moment(values).format('DD/MM/YYYY hh:mm:ss'))\r\n    }\r\n    const onChangeDate = (values) => {\r\n        formik.setFieldValue('ngayChieuGioChieu',moment(values).format('DD/MM/YYYY hh:mm:ss'))\r\n    }\r\n    const onChangeInputNumber = (values) => {\r\n        formik.setFieldValue('giaVe', values);\r\n    }\r\n    const convertSelectHTR = () => {\r\n        return  state.heThongRapChieu?.map((htr,index)=>{\r\n            return {label:htr.tenHeThongRap, value: htr.maHeThongRap}\r\n        })\r\n    }\r\n    const convertSelectCR = () => {\r\n        return  state.cumRapChieu?.map((cRap,index)=>{\r\n            return {label:cRap.tenCumRap, value: cRap.maCumRap}\r\n        })\r\n    }\r\n    let film = {};\r\n    if(localStorage.getItem('filmParams')){\r\n        film = JSON.parse(localStorage.getItem('filmParams'));\r\n    }\r\n    return (\r\n        <Form\r\n        name=\"basic\"\r\n        labelCol={{ span: 8 }}\r\n        wrapperCol={{ span: 16 }}\r\n        onSubmitCapture={formik.handleSubmit}\r\n      >\r\n        <Row>\r\n            <Col xs={{span: 24}} xl={{span: 24}}>\r\n            <Divider orientation=\"left\">Tạo lịch chiếu - {props.match.params.tenphim} </Divider>\r\n            </Col>\r\n        </Row>  \r\n        <Row>\r\n            <Col xs={{span: 24}} xl={{span: 6}} >\r\n                <Image src={film.hinhAnh} alt=\"...\" style={{width: '100%', height:'auto'}}/>\r\n            </Col>\r\n            <Col xs={{span: 24}} xl={{span: 12}} >\r\n                <Form.Item label=\"Hệ thống rạp\">\r\n                <Select options={convertSelectHTR()} onChange={handleChangeHeThongRap} placeholder=\"Chọn hệ thống rạp\" />\r\n            </Form.Item>\r\n            <Form.Item label=\"Cụm rạp\">\r\n                <Select options={convertSelectCR()} onChange={handleChangeCumRap} placeholder=\"Chọn cụm rạp\" />\r\n            </Form.Item>\r\n            <Form.Item label=\"Ngày chiếu giờ chiếu\">\r\n                <DatePicker format='DD/MM/YYYY/ hh:mm:ss' showTime onChange={onChangeDate} onOk={onOK}  />\r\n            </Form.Item>\r\n            <Form.Item label=\"Giá vé\">\r\n                <InputNumber min={75000} max={150000} onChange={onChangeInputNumber}  />\r\n            </Form.Item>\r\n            <Form.Item label=\"Tác vụ\">\r\n                <Button htmlType=\"submit\" >Tạo lịch Chiếu</Button>,\r\n            </Form.Item>\r\n            </Col>\r\n        </Row>\r\n    </Form>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/NoImage.3f6a99cc.png\";","import React, { useState } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  DatePicker,\r\n  InputNumber,\r\n  Switch,\r\n  Button,\r\n  Image, \r\n} from 'antd';\r\nimport { FormikConsumer, useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { themPhimUploadHinhAction } from '../../../../redux/actions/QuanLyPhimAction';\r\nimport { GROUPID } from '../../../../Util/setting';\r\nimport { Row, Col, Divider  } from 'antd';\r\nimport noImage from '../../../../Images/NoImage.png';\r\n\r\n\r\nconst AddNew = () => {\r\n  const [componentSize, setComponentSize] = useState('default');\r\n  const [imgSrc, setImgSrc] = useState('');\r\n   const dispatch = useDispatch();\r\n\r\n  const formik = useFormik({\r\n      initialValues: {\r\n        tenPhim: '',\r\n        trailer: '',\r\n        moTa: '',\r\n        ngayKhoiChieu:'',\r\n        dangChieu: false,\r\n        sapChieu: false,\r\n        hot: false,\r\n        danhGia: 0,\r\n        maNhom: GROUPID,\r\n        hinhAnh: {},\r\n      },\r\n      onSubmit: (values) =>{\r\n\r\n        values.maNhom = GROUPID;\r\n        let formData = new FormData();\r\n        for (let key in values) {\r\n            if(key!=='hinhAnh')\r\n            {\r\n                formData.append(key, values[key])\r\n            }else {\r\n                formData.append('File', values.hinhAnh, values.hinhAnh.name)\r\n            }\r\n        }\r\n        console.log(formData.get('maNhom'))\r\n        dispatch(themPhimUploadHinhAction(formData));\r\n        console.log('values', values)\r\n      }\r\n  })\r\n  \r\n  const handleChangeSwitch = (name) => {\r\n    return (value) => {\r\n        formik.setFieldValue(name , value)\r\n    }\r\n  };\r\n  const handleChangeFile = async (event) => {\r\n    let file = event.target.files[0];\r\n    if (file) {\r\n        if(file.type === \"image/jpeg\" || file.type === \"image/jpg\" ||file.type === \"image/png\") {\r\n            await formik.setFieldValue('hinhAnh',file)\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(file)\r\n            reader.onload = (e) => {\r\n                // console.log(e.target.result);\r\n                setImgSrc(e.target.result);\r\n            }\r\n           \r\n    }else {\r\n        return;\r\n    }\r\n    \r\n}\r\n  }\r\n  const handleChangeInputNumber = (name) => {\r\n    return (value) => {\r\n        formik.setFieldValue(name , value)\r\n    }\r\n  };\r\n  const handleChangeDatePicker = (value) => {\r\n      formik.setFieldValue('ngayKhoiChieu',moment(value).format(\"DD/MM/YYYY\") )\r\n    };\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n\r\n  return (\r\n    <>\r\n         <Form\r\n      onSubmitCapture= {formik.handleSubmit}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          size: componentSize,\r\n        }}\r\n        onValuesChange={onFormLayoutChange}\r\n        size={componentSize}\r\n      >\r\n      <Row>\r\n        <Col xs={{span: 24}} xl={{span: 24}}>\r\n          <Divider orientation=\"left\">Thêm mới phim</Divider>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={{span: 24, order: 3}} xl={{span: 6, order: 1}} >\r\n          { imgSrc && (\r\n            <Image  style={{width:'100%', height: 'auto'}} src={imgSrc} alt=\"...\" /> \r\n            )\r\n          }\r\n            { !imgSrc && (\r\n            <Image  style={{width:'100%', height: 'auto'}} src={noImage} alt=\"...\" /> \r\n          )\r\n          }\r\n        </Col>\r\n        <Col xs={{span: 24, order: 2}} xl={{span: 18, order: 2}} >\r\n        <Form.Item label=\"Form Size\" name=\"size\">\r\n          <Radio.Group>\r\n            <Radio.Button value=\"small\">Small</Radio.Button>\r\n            <Radio.Button value=\"default\">Default</Radio.Button>\r\n            <Radio.Button value=\"large\">Large</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label=\"Tên phim\" onChange={formik.handleChange}>\r\n          <Input name=\"tenPhim\"/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Trailer\"  onChange={formik.handleChange}>\r\n          <Input name=\"trailer\"/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Mô tả\"  onChange={formik.handleChange}>\r\n          <Input name=\"moTa\"/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Ngày khởi chiếu\">\r\n          <DatePicker format={\"DD/MM/YYYY\"} onChange={handleChangeDatePicker}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Đang chiếu\">\r\n          <Switch name=\"dangChieu\" onChange={handleChangeSwitch('dangChieu')} />\r\n        </Form.Item>\r\n        <Form.Item label=\"Sắp chiếu\">\r\n        <Switch  name=\"sapChieu\" onChange={handleChangeSwitch('sapChieu')} />        </Form.Item>\r\n        <Form.Item label=\"Hot\">\r\n        <Switch  name=\"hot\" onChange={handleChangeSwitch('hot')} />        </Form.Item>\r\n        <Form.Item label=\"Số sao\">\r\n          <InputNumber onChange={handleChangeInputNumber('danhGia')} min={1} max={10}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Hình ảnh\">\r\n          <input type=\"file\" onChange={handleChangeFile} accept=\"image/png, image/jpeg, image/jpg,image/png\"/>\r\n        </Form.Item>\r\n        </Col>\r\n        <Col xs={{span: 24, order: 5}} xl={{span: 6, order: 4}} >\r\n      \r\n        </Col>\r\n        <Col xs={{span: 24, order: 6}} xl={{span: 18, order: 5}} >\r\n        <Form.Item label=\"Tác vụ\">\r\n          <Button type=\"primary\" danger htmlType=\"submit\">\r\n          Thêm phim\r\n          </Button>\r\n        </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n","import React, { useState, useEffect, memo } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  DatePicker,\r\n  InputNumber,\r\n  Switch,\r\n  Image,\r\n  Button,\r\n  Popover,\r\n} from 'antd';\r\nimport { FormikConsumer, useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { capNhatPhimUploadAction, layThongTinPhimAction, themPhimUploadHinhAction } from '../../../../redux/actions/QuanLyPhimAction';\r\nimport { GROUPID } from '../../../../Util/setting';\r\nimport { Row, Col, Divider  } from 'antd';\r\nimport noImage from '../../../../Images/NoImage.png';\r\n\r\nconst Edit = memo((props) => {\r\n  const [componentSize, setComponentSize] = useState('default');\r\n  const [imgSrc, setImgSrc] = useState('');\r\n   const dispatch = useDispatch();\r\n   const { thongTinPhim } = useSelector(state => state.QuanLyPhimReducer)\r\n   console.log('thongTinPhim', thongTinPhim)\r\n  useEffect(() => {\r\n     let {id} = props.match.params;\r\n     dispatch(layThongTinPhimAction(id))\r\n  }, [])\r\n\r\n  const formik = useFormik({\r\n      enableReinitialize:true,\r\n      initialValues: {\r\n        maPhim: thongTinPhim.maPhim,\r\n        tenPhim: thongTinPhim.tenPhim,\r\n        trailer: thongTinPhim.trailer,\r\n        moTa: thongTinPhim.moTa,\r\n        ngayKhoiChieu:thongTinPhim.ngayKhoiChieu,\r\n        dangChieu: thongTinPhim.dangChieu,\r\n        sapChieu: thongTinPhim.sapChieu,\r\n        hot: thongTinPhim.hot,\r\n        danhGia: thongTinPhim.danhGia,\r\n        maNhom: GROUPID,\r\n        hinhAnh: null,\r\n      },\r\n      onSubmit: (values) =>{\r\n  \r\n        values.maNhom = GROUPID;\r\n        let formData = new FormData();\r\n        for (let key in values) {\r\n            if(key!=='hinhAnh')\r\n            {\r\n                formData.append(key, values[key])\r\n            }else {\r\n                if(values.hinhAnh !== null)\r\n                {\r\n                    formData.append('File', values.hinhAnh, values.hinhAnh.name)\r\n                }\r\n            }\r\n        }\r\n        dispatch(capNhatPhimUploadAction(formData));\r\n      }\r\n  })\r\n  const handleChangeSwitch = (name) => {\r\n    return (value) => {\r\n        formik.setFieldValue(name , value)\r\n    }\r\n  };\r\n  const handleChangeFile = async (event) => {\r\n    let file = event.target.files[0];\r\n    if (file) {\r\n        if(file.type === \"image/jpeg\" || file.type === \"image/jpg\" ||file.type === \"image/png\") {\r\n           await formik.setFieldValue('hinhAnh',file)\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(file)\r\n            reader.onload = (e) => {\r\n                // console.log(e.target.result);\r\n                setImgSrc(e.target.result);\r\n            }\r\n          \r\n    }else {\r\n        return;\r\n    }\r\n   \r\n}\r\n  }\r\n  const handleChangeInputNumber = (name) => {\r\n    return (value) => {\r\n        formik.setFieldValue(name , value)\r\n    }\r\n  };\r\n  const handleChangeDatePicker = (value) => {\r\n        formik.setFieldValue('ngayKhoiChieu',moment(value, 'DD/MM/YYYY'))\r\n    };\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n      onSubmitCapture= {formik.handleSubmit}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          size: componentSize,\r\n        }}\r\n        onValuesChange={onFormLayoutChange}\r\n        size={componentSize}\r\n      >\r\n      <Row>\r\n        <Col xs={{span: 24}} xl={{span: 24}}>\r\n          <Divider orientation=\"left\">Cập nhật phim</Divider>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n      <Col xs={{span: 24, order: 3}} xl={{span: 6, order: 1}} >\r\n             <Image style={{width:'100%', height: 'auto'}} src={imgSrc==='' ? thongTinPhim.hinhAnh : imgSrc} alt=\"...\" /> \r\n        </Col>\r\n        <Col xs={{span: 24, order: 2}} xl={{span: 18, order: 2}} >\r\n        <Form.Item label=\"Form Size\" name=\"size\">\r\n          <Radio.Group>\r\n            <Radio.Button value=\"small\">Small</Radio.Button>\r\n            <Radio.Button value=\"default\">Default</Radio.Button>\r\n            <Radio.Button value=\"large\">Large</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label=\"Tên phim\" onChange={formik.handleChange}>\r\n          <Input name=\"tenPhim\"  value={formik.values.tenPhim}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Trailer\"  onChange={formik.handleChange}>\r\n          <Input name=\"trailer\"  value={formik.values.trailer}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Mô tả\"  onChange={formik.handleChange}>\r\n          <Input name=\"moTa\"  value={formik.values.moTa}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Ngày khởi chiếu\">\r\n          <DatePicker format={\"DD/MM/YYYY\"} onChange={handleChangeDatePicker} value={moment(formik.values.ngayKhoiChieu)} />\r\n        </Form.Item>\r\n        <Form.Item label=\"Đang chiếu\">\r\n          <Switch name=\"dangChieu\" onChange={handleChangeSwitch('dangChieu')}  checked={formik.values.dangChieu} />\r\n        </Form.Item>\r\n        <Form.Item label=\"Sắp chiếu\">\r\n        <Switch  name=\"sapChieu\" onChange={handleChangeSwitch('sapChieu')}  checked={formik.values.sapChieu} />        </Form.Item>\r\n        <Form.Item label=\"Hot\">\r\n        <Switch  name=\"hot\" onChange={handleChangeSwitch('hot')}  checked={formik.values.hot}/>        </Form.Item>\r\n        <Form.Item label=\"Số sao\">\r\n          <InputNumber onChange={handleChangeInputNumber('danhGia')} min={1} max={10}  value={formik.values.danhGia}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Hình ảnh\">\r\n          <input type=\"file\" onChange={handleChangeFile} accept=\"image/png, image/jpeg, image/jpg,image/png\"/>\r\n        </Form.Item>\r\n          </Col>\r\n        <Col xs={{span: 24, order: 5}} xl={{span: 6, order: 4}} >\r\n      \r\n        </Col>\r\n        <Col xs={{span: 24, order: 6}} xl={{span: 18, order: 5}} >\r\n        <Form.Item label=\"Tác vụ\">\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n         Cập nhật\r\n          </Button>\r\n        </Form.Item>\r\n        </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  Button,\r\n  Select,\r\n} from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { themPhimUploadHinhAction } from '../../../../redux/actions/QuanLyPhimAction';\r\nimport { GROUPID } from '../../../../Util/setting';\r\nimport { themNguoiDungAction } from '../../../../redux/actions/QuanLyNguoiDungAction';\r\nimport { Row, Col, Divider  } from 'antd';\r\nimport noImage from '../../../../Images/NoImage.png';\r\n\r\n\r\nconst AddNew = () => {\r\n  const [componentSize, setComponentSize] = useState('default');\r\n   const dispatch = useDispatch();\r\n\r\n  const formik = useFormik({\r\n      initialValues: {\r\n        taiKhoan: '',\r\n        matKhau: '',\r\n        email: '',\r\n        soDt: '',\r\n        maNhom: GROUPID,\r\n        maLoaiNguoiDung: '',\r\n        hoTen: '',\r\n      },\r\n      onSubmit: async (values, { resetForm }) =>{\r\n        console.log('values', values)\r\n        values.maNhom = GROUPID;\r\n        await dispatch(themNguoiDungAction(values));\r\n        resetForm();\r\n      }\r\n  })\r\n  \r\n\r\n  const handleChangeLoaiUser = async (values) => {\r\n    formik.setFieldValue('maLoaiNguoiDung',values)\r\n  }\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n  const convertSelectUser = () => {\r\n    return [{label: 'Khách hàng', value: \"KhachHang\"}, {label: 'Quản Trị', value: \"QuanTri\"}]\r\n}\r\n  return (\r\n    <>\r\n      <Form\r\n      onSubmitCapture= {formik.handleSubmit}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          size: componentSize,\r\n        }}\r\n        onValuesChange={onFormLayoutChange}\r\n        size={componentSize}\r\n      >\r\n      <Row>\r\n        <Col xs={{span: 24}} xl={{span: 24}}>\r\n          <Divider orientation=\"left\">Thêm mới người dùng</Divider>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n      <Col xs={{span: 24}} xl={{span: 12}} >\r\n      <Form.Item label=\"Form Size\" name=\"size\">\r\n          <Radio.Group>\r\n            <Radio.Button value=\"small\">Small</Radio.Button>\r\n            <Radio.Button value=\"default\">Default</Radio.Button>\r\n            <Radio.Button value=\"large\">Large</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label=\"Tài Khoản\" onChange={formik.handleChange}  rules={[{ required: true, message: 'Hãy nhập tài khoản!' }]}>\r\n          <Input name=\"taiKhoan\"  value={formik.values.taiKhoan}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Mật Khẩu\"  onChange={formik.handleChange}>\r\n          <Input.Password name=\"matKhau\"  value={formik.values.matKhau}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Họ Tên\"  onChange={formik.handleChange}>\r\n          <Input name=\"hoTen\"  value={formik.values.hoTen}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Số ĐT\"  onChange={formik.handleChange}>\r\n          <Input name=\"soDt\"  value={formik.values.soDt}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Email\"  onChange={formik.handleChange}>\r\n          <Input name=\"email\"  value={formik.values.email}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Loại User\"  onChange={formik.handleChange}>\r\n          <Select options={convertSelectUser()} onChange={handleChangeLoaiUser} placeholder=\"Chọn loại người dùng!\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"Tác vụ\">\r\n          <Button type=\"primary\" danger htmlType=\"submit\">\r\n          Thêm người dùng\r\n          </Button>\r\n        </Form.Item>\r\n        </Col>\r\n      </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddNew;\r\n","import React, { useState, useEffect, memo } from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Radio,\r\n  Select,\r\n  Button,\r\n} from 'antd';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GROUPID } from '../../../../Util/setting';\r\nimport { capNhatNguoiDungAction, layThongTinNguoiDungTheoTaiKhoanAction, layThongTinTaiKhoanAction } from '../../../../redux/actions/QuanLyNguoiDungAction';\r\nimport { Row, Col, Divider  } from 'antd';\r\nconst { Option } = Select;\r\n\r\n\r\nconst Edit = memo((props) => {\r\n  const [componentSize, setComponentSize] = useState('default');\r\n   const dispatch = useDispatch();\r\n   const { thongTinNguoiDungTheoTaiKhoan } = useSelector(state => state.QuanLyNguoiDungReducer)\r\n\r\n  useEffect(() => {\r\n     let {taiKhoan} = props.match.params;\r\n    dispatch(layThongTinNguoiDungTheoTaiKhoanAction(taiKhoan))\r\n  }, [])\r\n\r\n  const formik = useFormik({\r\n      enableReinitialize:true,\r\n      initialValues: {\r\n        taiKhoan: thongTinNguoiDungTheoTaiKhoan.taiKhoan,\r\n        hoTen: thongTinNguoiDungTheoTaiKhoan.hoTen,\r\n        email: thongTinNguoiDungTheoTaiKhoan.email,\r\n        soDt: thongTinNguoiDungTheoTaiKhoan.soDT,\r\n        matKhau:thongTinNguoiDungTheoTaiKhoan.matKhau,\r\n        maLoaiNguoiDung: thongTinNguoiDungTheoTaiKhoan.maLoaiNguoiDung,\r\n      },\r\n      onSubmit: (values) =>{\r\n  \r\n        values.maNhom = GROUPID;\r\n  \r\n        dispatch(capNhatNguoiDungAction(values));\r\n      }\r\n  })\r\n\r\n\r\n\r\n\r\n  const handleChangeLoaiUser = async (values) => {\r\n    formik.setFieldValue('maLoaiNguoiDung',values)\r\n  }\r\n\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n      onSubmitCapture= {formik.handleSubmit}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          size: componentSize,\r\n        }}\r\n        onValuesChange={onFormLayoutChange}\r\n        size={componentSize}\r\n      >\r\n      <Row>\r\n        <Col xs={{span: 24}} xl={{span: 24}}>\r\n          <Divider orientation=\"left\">Cập nhật thông tin tài khoản</Divider>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n      <Col xs={{span: 24}} xl={{span: 12}} >\r\n      <Form.Item label=\"Form Size\" name=\"size\">\r\n          <Radio.Group>\r\n            <Radio.Button value=\"small\">Small</Radio.Button>\r\n            <Radio.Button value=\"default\">Default</Radio.Button>\r\n            <Radio.Button value=\"large\">Large</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item label=\"Tài Khoản\" onChange={formik.handleChange}>\r\n          <Input name=\"taiKhoan\"  value={formik.values.taiKhoan}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Mật Khẩu\"  onChange={formik.handleChange}>\r\n          <Input name=\"matKhau\"  value={formik.values.matKhau}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Họ Tên\"  onChange={formik.handleChange}>\r\n          <Input name=\"hoTen\"  value={formik.values.hoTen}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Số ĐT\"  onChange={formik.handleChange}>\r\n          <Input name=\"soDt\"  value={formik.values.soDt}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Email\"  onChange={formik.handleChange}>\r\n          <Input name=\"email\"  value={formik.values.email}/>\r\n        </Form.Item>\r\n        <Form.Item label=\"Loại User\"  onChange={formik.handleChange}>\r\n          <Select  onChange={handleChangeLoaiUser}  defaultValue={formik.values.maLoaiNguoiDung}>\r\n            <Option value=\"KhachHang\">Khách hàng</Option>\r\n            <Option value=\"QuanTri\">Quản trị</Option>\r\n          </Select>\r\n        </Form.Item>\r\n      \r\n        <Form.Item label=\"Tác vụ\">\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n         Cập nhật\r\n          </Button>\r\n        </Form.Item>\r\n        </Col>\r\n        </Row>\r\n       \r\n      </Form>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Edit;\r\n","import React from 'react'\r\nimport { Result, Button } from 'antd';\r\nimport { history } from '../../App';\r\nexport default function PageError() {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Sorry, the page you visited does not exist.\"\r\n        extra={<Button type=\"primary\" onClick={()=>{history.goBack()}}>Back Home</Button>}\r\n      />\r\n    )\r\n}\r\n","import React, { useEffect, memo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { Table, Row, Col ,Tag, Divider} from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport { layThongTinNguoiDungTheoTaiKhoanAction } from '../../../redux/actions/QuanLyNguoiDungAction';\r\nimport { displayLoadingAction, hideLoadingAction } from \"../../../redux/actions/LoadingAction\";\r\n\r\n\r\n\r\nexport default function UserBooked(props) {\r\n    // const { thongTinNguoiDungTheoTaiKhoan, isLoading } = useSelector(state => state.UserReducer);\r\n    const { thongTinNguoiDungTheoTaiKhoan } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n    const { isLoading } = useSelector(state => state.LoadingReducer);\r\n\r\n    const taiKhoan = props.match.params.taiKhoan;\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        // dispatch({ type: 'RESET_LOADING_USER' });\r\n        dispatch(displayLoadingAction);\r\n        dispatch(layThongTinNguoiDungTheoTaiKhoanAction(taiKhoan));\r\n        dispatch(hideLoadingAction);\r\n    }, []);\r\n    const numberWithCommas = (x) => {\r\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n    const listChar = [\r\n        { number: 16, char: 'A' },\r\n        { number: 32, char: 'B' },\r\n        { number: 48, char: 'C' },\r\n        { number: 64, char: 'D' },\r\n        { number: 80, char: 'E' },\r\n        { number: 96, char: 'F' },\r\n        { number: 112, char: 'G' },\r\n        { number: 128, char: 'H' },\r\n        { number: 144, char: 'I' },\r\n        { number: 160, char: 'J' },\r\n    ]\r\n    const setNameSeat = (index) => {\r\n        let result;\r\n        for (let i = 0; i < listChar.length; i++) {\r\n            if (index <= listChar[i].number && index >= listChar[i].number - 15) {\r\n                let h = 0;\r\n                let indexSeat;\r\n                for (let j = listChar[i].number - 16; j <= listChar[i].number; j++) {\r\n                    if (index == j) {\r\n                        indexSeat = h;\r\n                        break;\r\n                    }\r\n                    h++;\r\n                }\r\n                if (indexSeat < 10) {\r\n                    result = ` ${listChar[i].char}0${indexSeat}`;\r\n                } else {\r\n                    result = ` ${listChar[i].char}${indexSeat}`;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    const  NestedTable = memo(() => {\r\n        const expandedRowRender = (row) => {\r\n            const columns = [\r\n                { title: 'GHẾ', dataIndex: 'tenGhe', key: 'tenGhe',render:(text,index)=>(\r\n                    <Tag color=\"blue\" key={index}>\r\n                            {setNameSeat(text)}\r\n                        </Tag>\r\n                )},\r\n                { title: 'MÃ HỆ THỐNG RẠP', dataIndex: 'maHeThongRap', key: 'maHeThongRap' },\r\n                { title: 'TÊN HỆ THỐNG RẠP', dataIndex: 'tenHeThongRap', key: 'tenHeThongRap' },\r\n                { title: 'TÊN CỤM RẠP', dataIndex: 'tenCumRap', key: 'tenCumRap' },\r\n            ];\r\n\r\n            const data = [];\r\n            for (let i = 0; i < 3; ++i) {\r\n                data.push({\r\n                    key: i,\r\n                    date: '2014-12-24 23:12:00',\r\n                    name: 'This is production name',\r\n                    upgradeNum: 'Upgraded: 56',\r\n                });\r\n            }\r\n            const datas = [];\r\n            for (let i = 0; i < thongTinNguoiDungTheoTaiKhoan.thongTinDatVe.length; i++) {\r\n                let dataA = [];\r\n                for (let j = 0; j < thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].danhSachGhe.length; j++) {\r\n                    dataA.push(thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].danhSachGhe[j]);\r\n                }\r\n                datas[i] = dataA;\r\n            }\r\n            let dataEx ;\r\n            for(let i = 0; i < thongTinNguoiDungTheoTaiKhoan.thongTinDatVe.length; i++){\r\n                if(i == row.key){\r\n                    dataEx = datas[i];\r\n                }\r\n            }\r\n\r\n            return <Table columns={columns} dataSource={dataEx} pagination={false} />;\r\n        };\r\n\r\n        const columns = [\r\n            { title: 'TÊN PHIM', dataIndex: 'tenPhim', key: 'tenPhim', with: '350' },\r\n            { title: 'NGÀY ĐẶT', dataIndex: 'ngayDat', key: 'ngayDat', with: '200' },\r\n            { title: 'GIÁ VÉ', dataIndex: 'giaVe', key: 'giaVe', render: (text) => (<span>{numberWithCommas(text)} VNĐ</span>), with: '150' },\r\n            { title: 'THỜI LƯỢNG PHIM', dataIndex: 'thoiLuongPhim', key: 'thoiLuongPhim', render: (text) => (<span>{text} P</span>), with: '100' },\r\n        ];\r\n\r\n        const data = [];\r\n        for (let i = 0; i < thongTinNguoiDungTheoTaiKhoan?.thongTinDatVe?.length; i++) {\r\n            data.push({\r\n                key: i,\r\n                tenPhim: thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].tenPhim,\r\n                ngayDat: moment(thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].ngayDat).format('DD/MM/YYYY hh:mm:ss'),\r\n                giaVe: thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].giaVe,\r\n                thoiLuongPhim: thongTinNguoiDungTheoTaiKhoan.thongTinDatVe[i].thoiLuongPhim,\r\n            });\r\n        }\r\n        return (\r\n            <Table\r\n                loading={isLoading}\r\n                bordered\r\n                className=\"components-table-demo-nested\"\r\n                columns={columns}\r\n                expandable={{ expandedRowRender }}\r\n                dataSource={data}\r\n                scroll={{ x: 400 }}\r\n            />\r\n        );\r\n    });\r\n    return (\r\n        <>\r\n        <Row >\r\n           <Col span={24}>\r\n               <Divider orientation=\"left\">THÔNG TIN ĐẶT VÉ  CỦA {taiKhoan}</Divider>\r\n            </Col>\r\n           <Col span={24} style={{marginRight:10}}>\r\n                <NestedTable />\r\n           </Col>\r\n       </Row>\r\n       </>\r\n    )\r\n}\r\n","export const GET_FILM_SHEDULE = 'GET_FILM_SHEDULE';\r\nexport const GET_FILM_SHEDULE_BY_CINEMA = 'GET_FILM_SHEDULE_BY_CINEMA';\r\nexport const RESET_LIST_FILM_SHEDULE = 'RESET_LIST_FILM_SHEDULE';\r\n","import { GROUPID } from \"../Util/setting\";\r\nimport { baseService } from \"./baseService\";\r\n\r\nexport class QuanLyLichChieuPhimService extends baseService {\r\n\r\n\r\n    // eslint-disable-next-line no-useless-constructor\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    getInfoFilmSheduleAdmin = (maPhim) => {\r\n        return  this.get(`api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=${maPhim}`);\r\n    }\r\n\r\n    getInfoFilmSheduleByCinema = (maHeThongRap) => {\r\n        return this.get(`api/QuanLyRap/LayThongTinLichChieuHeThongRap?maHeThongRap=${maHeThongRap}&maNhom=${GROUPID}`)\r\n    }\r\n\r\n\r\n}\r\n\r\nexport  const quanLyLichPhimService = new QuanLyLichChieuPhimService(); ","\r\nimport { GET_FILM_SHEDULE, GET_FILM_SHEDULE_BY_CINEMA  } from \"./types/QuanLyLichChieuPhim\";\r\nimport { quanLyLichPhimService } from \"../../services/QuanLyLichChieuPhimService\";\r\n\r\n\r\nexport const getInfoFilmSheduleAdmin = (maPhim) =>{\r\n    return async (dispatch) => {\r\n        try {\r\n            const result = await quanLyLichPhimService.getInfoFilmSheduleAdmin(maPhim);\r\n            if (result.status === 200) {\r\n                console.log('data get info ', result.data?.content)\r\n                dispatch({ type: GET_FILM_SHEDULE, listFilmShedule: result.data?.content });\r\n           }\r\n\r\n        } catch (errors) {\r\n            console.log(errors);\r\n        }\r\n    }\r\n}\r\n\r\nexport const getInfoFilmSheduleByCinema = (maHeThongRap) =>{\r\n    return async (dispatch) => {\r\n        try {\r\n            const result = await quanLyLichPhimService.getInfoFilmSheduleByCinema(maHeThongRap);\r\n            if (result.status === 200) {\r\n                dispatch({ type: GET_FILM_SHEDULE_BY_CINEMA, listFilmSheduleCinema: result.data?.content });\r\n           }\r\n        } catch (errors) {\r\n            console.log(errors);\r\n        }\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Table, Button, Row, Col, Divider } from 'antd';\r\nimport { getInfoFilmSheduleAdmin } from '../../../redux/actions/QuanLyLichChieuPhimAction';\r\nimport { layDanhSachPhimAction } from '../../../redux/actions/QuanLyPhimAction';\r\n\r\nimport {\r\n    InteractionOutlined,\r\n  } from '@ant-design/icons';\r\n\r\nexport default function FilmsSchedule() {\r\n    const { arrFilmDefault } = useSelector(state => state.QuanLyPhimReducer);\r\n    const { listFilmShedule } = useSelector(state => state.QuanLyLichChieuPhimReducer);\r\n    let data = [];\r\n    if (listFilmShedule != '') {\r\n        for (let i = 0; i < listFilmShedule.length; i++) {\r\n            let listFilm = listFilmShedule[i];\r\n            for (let j = 0; j < listFilm.heThongRapChieu.length; j++) {\r\n                let heThongRapChieu = listFilm.heThongRapChieu[j];\r\n                for (let h = 0; h < heThongRapChieu.cumRapChieu.length; h++) {\r\n                    let cumRapChieu = heThongRapChieu.cumRapChieu[h];\r\n                    for (let g = 0; g < cumRapChieu.lichChieuPhim.length; g++) {\r\n                        data.push({\r\n                            maLichChieu: cumRapChieu.lichChieuPhim[g].maLichChieu,\r\n                            tenHeThongRap: heThongRapChieu.tenHeThongRap,\r\n                            logo: heThongRapChieu.logo,\r\n                            tenRap: cumRapChieu.lichChieuPhim[g].tenRap,\r\n                            tenPhim: listFilm.tenPhim,\r\n                            hinhAnh: listFilm.hinhAnh,\r\n                            ngayChieuGioChieu: cumRapChieu.lichChieuPhim[g].ngayChieuGioChieu,\r\n                            giaVe: cumRapChieu.lichChieuPhim[g].giaVe,\r\n\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const dispatch = useDispatch();\r\n    const fetchData = () => {\r\n        if (listFilmShedule == '' && arrFilmDefault != '') {\r\n            for (let i = 0; i < arrFilmDefault.length; i++) {\r\n                dispatch(getInfoFilmSheduleAdmin(arrFilmDefault[i].maPhim));\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        fetchData();\r\n        dispatch(layDanhSachPhimAction());\r\n    }, []);\r\n    const numberWithCommas = (x) => {\r\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n    const columns = [\r\n        {\r\n            title: 'MÃ LỊCH CHIẾU',\r\n            dataIndex: 'maLichChieu',\r\n            key: 'maLichChieu',\r\n            width: 60,\r\n            sorter: (a, b) => a.maLichChieu - b.maLichChieu,\r\n        },\r\n        {\r\n            title: 'NGÀY CHIẾU GIỜ CHIẾU',\r\n            dataIndex: 'ngayChieuGioChieu',\r\n            key: 'ngayChieuGioChieu',\r\n            width: 80,\r\n            render: (text) => (<span>{moment(text).format('DD/MM/YYYY hh:mm:ss')}</span>)\r\n        },\r\n        {\r\n            title: 'GIÁ VÉ',\r\n            dataIndex: 'giaVe',\r\n            key: 'giaVe',\r\n            width: 80,\r\n            render: (text) => (<span>{numberWithCommas(text)} VNĐ</span>)\r\n        },\r\n        {\r\n            title: 'TÊN PHIM',\r\n            key: 'tenPhim',\r\n            dataIndex: 'tenPhim',\r\n            width: 150,\r\n        },\r\n        {\r\n            title: 'HÌNH ẢNH',\r\n            key: 'hinhAnh',\r\n            dataIndex: 'hinhAnh',\r\n            width: 80,\r\n            render: (text, render) => (\r\n                <img src={text} style={{ width: '50px', height: '50px', borderRadius: '10px' }} />\r\n            )\r\n        },\r\n        {\r\n            title: 'LOGO',\r\n            dataIndex: 'logo',\r\n            key: 'logo',\r\n            width: 50,\r\n            render: (text, render) => (\r\n                <img src={text} style={{ width: '40px', height: '40px', borderRadius: '10px' }} />\r\n            )\r\n        },\r\n        {\r\n            title: 'TÊN HỆ THỐNG RẠP',\r\n            dataIndex: 'tenHeThongRap',\r\n            key: 'tenHeThongRap',\r\n            width: 100,\r\n        },\r\n        {\r\n            title: 'TÊN RẠP',\r\n            dataIndex: 'tenRap',\r\n            key: 'tenRap',\r\n            width: 50,\r\n        },\r\n        \r\n        {\r\n            title: 'ACTION',\r\n            key: 'operation',\r\n            fixed: 'right',\r\n            width: 100,\r\n          },\r\n    ];\r\n\r\n\r\n\r\n    return (\r\n        <Row >\r\n            <Col span={24}>\r\n                <Divider orientation=\"left\">Quản Lý Phim</Divider>\r\n                </Col>\r\n            <Col span={24} style={{marginRight:10}}>\r\n                    <Table  scroll={{ x: 400 }} columns={columns} dataSource={data} sticky  />\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport './Checkout.scss'\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { connection } from '../..';\r\nimport { datGheAction, datVeAction, layChiTietPhongVeAction } from '../../redux/actions/QuanLyDatVeAction';\r\nimport { DAT_GHE } from '../../redux/actions/types/QuanLyDatVeType';\r\nimport _ from 'lodash';\r\nimport { ThongTinDatVe } from '../../_core/models/ThongTinDatVe';\r\nimport { history } from '../../App';\r\nimport { Modal, Button } from 'antd';\r\nimport { layThongTinTaiKhoanAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\nimport moment from 'moment';\r\n\r\nexport default function CheckoutMobile(props) {\r\n\r\n    //modal antd\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n\r\n    const { userLogin, thongTinNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const { chiTietPhongVe, danhSachGheDangDat, danhSachGheKhachDat } = useSelector(state => state.QuanLyDatVeReducer);\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n\r\n\r\n\r\n        //gọi hàm tạo ra 1 async function\r\n        const action = layChiTietPhongVeAction(props.match.params.id)\r\n        dispatch(action);\r\n\r\n        //Có 1 client nào thực hiện việc đặt vé thành công mình sẽ load lại danh sách phòng vé của lịch chiếu đó\r\n        connection.on('datVeThanhCong', () => {\r\n            dispatch(action)\r\n        });\r\n\r\n        //vừa vào trang load tất cả ghế của các người khác đang đặt\r\n\r\n        connection.invoke(\"loadDanhSachGhe\", props.match.params.id);\r\n\r\n        //Load danh sách ghế đang đặt từ server về\r\n        connection.on(\"loadDanhSachGheDaDat\", (dsGheKhachDat) => {\r\n            console.log('danhSachGheKhachDat', dsGheKhachDat);\r\n\r\n            //b1: loại mình ra khỏi danh sách\r\n\r\n            dsGheKhachDat = dsGheKhachDat.filter(item => item.taiKhoan !== userLogin.taiKhoan);\r\n\r\n            //b2: gộp danh sách ghế khách đặt ở tất cả user thành 1 mảng chung\r\n\r\n            let arrGheKhachDat = dsGheKhachDat.reduce((result, item, index) => {\r\n                let arrGhe = JSON.parse(item.danhSachGhe);\r\n\r\n                return [...result, ...arrGhe];\r\n            }, [])\r\n            //Đưa dữ liệu ghế khách đặt cập nhật redux\r\n            arrGheKhachDat = _.uniqBy(arrGheKhachDat, 'maGhe');\r\n\r\n            //đưa dữ liệu về redux\r\n            dispatch({\r\n                type: DAT_GHE,\r\n                payload: arrGheKhachDat\r\n            })\r\n        })\r\n\r\n        //cài đặt sự kiện khi reload trang\r\n        window.addEventListener(\"beforeunload\", clearGhe);\r\n\r\n\r\n        return () => {\r\n            clearGhe();\r\n            window.removeEventListener(\"beforeunload\", clearGhe);\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearGhe = (event) => {\r\n\r\n        connection.invoke('huyDat', userLogin.taiKhoan, props.match.params.id)\r\n    }\r\n\r\n    console.log({ chiTietPhongVe });\r\n\r\n    console.log('danhSachGheDangDat', danhSachGheDangDat)\r\n\r\n    const { thongTinPhim, danhSachGhe } = chiTietPhongVe;\r\n\r\n    const renderGhe = () => {\r\n        return danhSachGhe.map((ghe, index) => {\r\n\r\n            let classGheVip = ghe.loaiGhe === 'Vip' ? 'gheVip' : '';\r\n            let classGheDaDat = ghe.daDat === true ? 'gheDaDat' : '';\r\n            let classGheDangDat = '';\r\n\r\n            let indexGheDangDat = danhSachGheDangDat.findIndex(gheDangDat => gheDangDat.maGhe === ghe.maGhe);\r\n\r\n            if (indexGheDangDat !== -1) {\r\n                classGheDangDat = 'gheDangDat';\r\n            }\r\n\r\n            let classGheDaDuocDat = '';\r\n            if (userLogin.taiKhoan === ghe.taiKhoanNguoiDat) {\r\n                classGheDaDuocDat = 'gheDaDuocDat';\r\n            }\r\n\r\n            let classGheKhachDat = '';\r\n            let indexGheKD = danhSachGheKhachDat.findIndex(gheKD => gheKD.maGhe === ghe.maGhe)\r\n            if (indexGheKD !== -1) {\r\n                classGheKhachDat = 'gheKhachDat';\r\n            }\r\n\r\n            return <Fragment key={index}>\r\n                <button type=\"button\" className={`ghe ${classGheVip}  ${classGheDaDat} ${classGheDangDat} ${classGheDaDuocDat} ${classGheKhachDat} text-center`} disabled={ghe.daDat || classGheKhachDat !== ''} onClick={() => {\r\n                    dispatch(datGheAction(ghe, props.match.params.id))\r\n                }} key={index} style={{ fontSize: 6.5 }}>\r\n\r\n                    {/* {ghe.daDat ? classGheDaDuocDat !== '' ? <CheckOutlined style={{ fontWeight: 'bold' }} /> : <CloseOutlined style={{ fontWeight: 'bold' }} /> : classGheKhachDat !== '' ? ghe.stt : ghe.stt} */}\r\n                    {classGheDangDat !== '' ? ghe.stt : <Fragment><span className=\"opacity-0\">ghe</span></Fragment>}\r\n\r\n                </button>\r\n\r\n                {(index + 1) % 16 === 0 ? <br /> : ''}\r\n            </Fragment>\r\n        })\r\n    }\r\n\r\n    let classBtnDatVe = '';\r\n\r\n    if (danhSachGheDangDat.length === 0) {\r\n        classBtnDatVe = 'disabled';\r\n    }\r\n\r\n\r\n    const renderTicketItem = () => {\r\n        return thongTinNguoiDung.thongTinDatVe?.map((ticket, index) => {\r\n\r\n            const danhSachGhe = _.first(ticket.danhSachGhe);\r\n            return <div className=\"p-2 w-full\" key={index}>\r\n                <div className=\"h-full flex items-center border-gray-200 border p-4 rounded-lg\">\r\n                    {/* <img alt=\"team\" className=\"w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4\" src={ticket.hinhAnh} /> */}\r\n                    <div className=\"flex-grow\">\r\n                        <h2 className=\"text-gray-900 title-font font-medium\" style={{ fontSize: '14px' }}>{ticket.tenPhim}</h2>\r\n                        <p className=\"text-gray-500\" style={{ fontSize: '12px' }}>{moment(ticket.ngayDat).format('hh:mm A')} - Ngày Chiếu {moment(ticket.ngayDat).format('DD-MM-YYYY')} </p>\r\n                        <p className=\"text-gray-500\" style={{ fontSize: '12px' }}>Thời Lượng: {ticket.thoiLuongPhim} phút</p>\r\n                        <p className=\"text-gray-500\" style={{ fontSize: '12px' }}>Địa điểm: {danhSachGhe.tenHeThongRap}</p>\r\n                        <p className=\"text-gray-500\" style={{ fontSize: '12px' }}>Tên Rạp: {danhSachGhe.tenCumRap} - Ghế {ticket.danhSachGhe.map((ghe, index) => {\r\n                            return <span key={index}> {ghe.tenGhe} </span>\r\n                        })}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }).reverse();\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"\">\r\n            {/* Checkout header */}\r\n            <div className=\"checkout-header\">\r\n                <div className=\"left\">\r\n                    <div className=\"backButton\">\r\n                        <CloseOutlined className=\"text-2xl\" onClick={() => {\r\n                            history.push(`/detail/${props.match.params.id}`)\r\n                        }} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"center\">\r\n                    <span className=\"steptitle\">Chọn Ghế</span>\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"account\">\r\n                        <UserProfile className=\"ml-5 rounded-full bg-blue-100\" onClick={() => {\r\n                            history.push('/profile')\r\n                        }}>{userLogin.taiKhoan.substr(0, 1)}</UserProfile>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* Checkout body */}\r\n\r\n            <div className=\"seatCheckout\">\r\n                <div className=\"\">\r\n                    <div className=\"top-content flex justify-between w-full\">\r\n                        <div className=\"left-title flex items-center\">\r\n                            {/* <div className=\"logo-cinema\">\r\n                                <img className=\"logo\" src=\"https://s3img.vcdn.vn/123phim/2018/09/f32670fd0eb083c9c4c804f0f3a252ed.png\" alt=\"logo-cinema\" />\r\n                            </div> */}\r\n                            <div className=\"content-cinema\">\r\n                                <p className=\"address\">\r\n                                    <span className=\"p-cinema\">{thongTinPhim.tenPhim}</span>\r\n                                </p>\r\n                                <p className=\"address\">\r\n                                    <span className=\"p-cinema\">{thongTinPhim.tenCumRap}</span>\r\n                                    <span className=\"cinema-name\"></span>\r\n                                </p>\r\n                                <p className=\"hour\">\r\n                                    {thongTinPhim.ngayChieu} - {thongTinPhim.gioChieu} -\r\n                                    {thongTinPhim.tenRap}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-title\">\r\n                            <p>Tài Khoản: {userLogin.taiKhoan.length > 15 ? userLogin.taiKhoan.slice(0, 15) + '...' : userLogin.taiKhoan}</p>\r\n                            <p>Số ĐT: {userLogin.soDT}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"seat-map\">\r\n                        <div className=\"panzoom\">\r\n                            <div className=\"screen flex justify-center\">\r\n                                <img src=\"../../Images/screen.png\" alt=\"screen\" style={{ width: '90%' }} />\r\n                            </div>\r\n\r\n                            <div className=\"list-seat\">\r\n                                {renderGhe()}\r\n                            </div>\r\n\r\n                            <div className=\"type-seats mt-10 flex flex-col justify-center px-10 text-center\">\r\n\r\n                                <div className=\"flex flex-row justify-center\">\r\n                                    <div>\r\n                                        <p>Ghế Chưa Đặt</p>\r\n                                        <span><button className=\"ghe text-center\"></button></span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>Ghế đang đặt</p>\r\n                                        <span><button className=\"ghe gheDangDat text-center\"></button></span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>Ghế đã được đặt</p>\r\n                                        <span><button className=\"ghe gheDaDat text-center\"></button></span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>Ghế vip</p>\r\n                                        <span><button className=\"ghe gheVip text-center\"></button></span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-5 ml-7 flex flex-row justify-center\">\r\n                                    <div>\r\n                                        <p>Ghế bạn đã đặt</p>\r\n                                        <span><button className=\"ghe gheDaDuocDat text-center\"></button></span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p>Ghế người khác đang đặt</p>\r\n                                        <span><button className=\"ghe gheKhachDat text-center\"></button></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 checkout-footer\">\r\n                <div className=\"total\">\r\n                    <p className=\"seat-chosen\">\r\n                        {_.sortBy(danhSachGheDangDat, ['maGhe']).map((gheDangDat, index) => (\r\n                            <span key={index}>{gheDangDat.tenGhe} - </span>\r\n                        ))}\r\n                        {\r\n                            danhSachGheDangDat.reduce((tongTien, gheDangDat, index) => {\r\n                                return tongTien += gheDangDat.giaVe\r\n                            }, 0).toLocaleString()\r\n                        }đ</p>\r\n                </div>\r\n                <div className={`${classBtnDatVe} continue-button flex items-center justify-center`} onClick={async () => {\r\n                    const thongTinDatVe = new ThongTinDatVe();\r\n                    thongTinDatVe.maLichChieu = props.match.params.id;\r\n                    thongTinDatVe.danhSachVe = danhSachGheDangDat;\r\n\r\n                    console.log(thongTinDatVe);\r\n                    await dispatch(datVeAction(thongTinDatVe))\r\n                    await dispatch(layThongTinTaiKhoanAction());\r\n\r\n                    showModal();\r\n\r\n                }}>\r\n                    Đặt Vé\r\n                </div>\r\n\r\n                <Modal title=\"Lịch Sử Đặt Vé\" visible={isModalVisible} footer={null} onOk={handleOk} onCancel={handleCancel}>\r\n                    <div className=\"scroll__bar__custom w-full\" style={{ height: '400px', overflow: 'auto' }}>\r\n                        {renderTicketItem()}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst UserProfile = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`","import React, { Fragment, useEffect, useState } from 'react'\r\nimport './Checkout.scss'\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { connection } from '../..';\r\nimport { datGheAction, datVeAction, layChiTietPhongVeAction } from '../../redux/actions/QuanLyDatVeAction';\r\nimport { DAT_GHE } from '../../redux/actions/types/QuanLyDatVeType';\r\nimport _ from 'lodash';\r\nimport { ThongTinDatVe } from '../../_core/models/ThongTinDatVe';\r\nimport { history } from '../../App';\r\nimport { Modal, Button } from 'antd';\r\nimport { layThongTinTaiKhoanAction } from '../../redux/actions/QuanLyNguoiDungAction';\r\nimport moment from 'moment';\r\n\r\nexport default function CheckoutIpad(props) {\r\n\r\n    //modal antd\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n\r\n    const { userLogin, thongTinNguoiDung } = useSelector(state => state.QuanLyNguoiDungReducer);\r\n\r\n    const { chiTietPhongVe, danhSachGheDangDat, danhSachGheKhachDat } = useSelector(state => state.QuanLyDatVeReducer);\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n\r\n        //gọi hàm tạo ra 1 async function\r\n        const action = layChiTietPhongVeAction(props.match.params.id)\r\n        dispatch(action);\r\n\r\n        //Có 1 client nào thực hiện việc đặt vé thành công mình sẽ load lại danh sách phòng vé của lịch chiếu đó\r\n        connection.on('datVeThanhCong', () => {\r\n            dispatch(action)\r\n        });\r\n\r\n        //vừa vào trang load tất cả ghế của các người khác đang đặt\r\n\r\n        connection.invoke(\"loadDanhSachGhe\", props.match.params.id);\r\n\r\n        //Load danh sách ghế đang đặt từ server về\r\n        connection.on(\"loadDanhSachGheDaDat\", (dsGheKhachDat) => {\r\n            console.log('danhSachGheKhachDat', dsGheKhachDat);\r\n\r\n            //b1: loại mình ra khỏi danh sách\r\n\r\n            dsGheKhachDat = dsGheKhachDat.filter(item => item.taiKhoan !== userLogin.taiKhoan);\r\n\r\n            //b2: gộp danh sách ghế khách đặt ở tất cả user thành 1 mảng chung\r\n\r\n            let arrGheKhachDat = dsGheKhachDat.reduce((result, item, index) => {\r\n                let arrGhe = JSON.parse(item.danhSachGhe);\r\n\r\n                return [...result, ...arrGhe];\r\n            }, [])\r\n            //Đưa dữ liệu ghế khách đặt cập nhật redux\r\n            arrGheKhachDat = _.uniqBy(arrGheKhachDat, 'maGhe');\r\n\r\n            //đưa dữ liệu về redux\r\n            dispatch({\r\n                type: DAT_GHE,\r\n                payload: arrGheKhachDat\r\n            })\r\n        })\r\n\r\n        //cài đặt sự kiện khi reload trang\r\n\r\n        window.addEventListener(\"beforeunload\", clearGhe);\r\n\r\n\r\n        return () => {\r\n            clearGhe();\r\n            window.removeEventListener(\"beforeunload\", clearGhe);\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearGhe = (event) => {\r\n\r\n        connection.invoke('huyDat', userLogin.taiKhoan, props.match.params.id)\r\n    }\r\n\r\n    console.log({ chiTietPhongVe });\r\n\r\n    console.log('danhSachGheDangDat', danhSachGheDangDat)\r\n\r\n    const { thongTinPhim, danhSachGhe } = chiTietPhongVe;\r\n\r\n    const renderGhe = () => {\r\n        return danhSachGhe.map((ghe, index) => {\r\n\r\n            let classGheVip = ghe.loaiGhe === 'Vip' ? 'gheVip' : '';\r\n            let classGheDaDat = ghe.daDat === true ? 'gheDaDat' : '';\r\n            let classGheDangDat = '';\r\n\r\n            let indexGheDangDat = danhSachGheDangDat.findIndex(gheDangDat => gheDangDat.maGhe === ghe.maGhe);\r\n\r\n            if (indexGheDangDat !== -1) {\r\n                classGheDangDat = 'gheDangDat';\r\n            }\r\n\r\n            let classGheDaDuocDat = '';\r\n            if (userLogin.taiKhoan === ghe.taiKhoanNguoiDat) {\r\n                classGheDaDuocDat = 'gheDaDuocDat';\r\n            }\r\n\r\n            let classGheKhachDat = '';\r\n            let indexGheKD = danhSachGheKhachDat.findIndex(gheKD => gheKD.maGhe === ghe.maGhe)\r\n            if (indexGheKD !== -1) {\r\n                classGheKhachDat = 'gheKhachDat';\r\n            }\r\n\r\n            return <Fragment key={index}>\r\n                <button type=\"button\" className={`ghe ${classGheVip}  ${classGheDaDat} ${classGheDangDat} ${classGheDaDuocDat} ${classGheKhachDat} text-center`} disabled={ghe.daDat || classGheKhachDat !== ''} onClick={() => {\r\n                    dispatch(datGheAction(ghe, props.match.params.id))\r\n                }} key={index} style={{ fontSize: 11 }}>\r\n\r\n                    {/* {ghe.daDat ? classGheDaDuocDat !== '' ? <CheckOutlined style={{ fontWeight: 'bold' }} /> : <CloseOutlined style={{ fontWeight: 'bold' }} /> : classGheKhachDat !== '' ? ghe.stt : ghe.stt} */}\r\n                    {/* {classGheDangDat !== '' ? ghe.stt : ''} */}\r\n\r\n                    {classGheDangDat !== '' ? ghe.stt : <Fragment><span className=\"opacity-0\">ghe</span></Fragment>}\r\n\r\n                </button>\r\n\r\n                {(index + 1) % 16 === 0 ? <br /> : ''}\r\n            </Fragment>\r\n        })\r\n    }\r\n\r\n    let classBtnDatVe = '';\r\n\r\n    if (danhSachGheDangDat.length === 0) {\r\n        classBtnDatVe = 'disabled';\r\n    }\r\n\r\n\r\n    const renderTicketItem = () => {\r\n        return thongTinNguoiDung.thongTinDatVe?.map((ticket, index) => {\r\n\r\n            const danhSachGhe = _.first(ticket.danhSachGhe);\r\n            return <div className=\"p-2 w-full\" key={index}>\r\n                <div className=\"h-full flex items-center border-gray-200 border p-4 rounded-lg\">\r\n                    <img alt=\"team\" className=\"w-16 h-16 bg-gray-100 object-cover object-center flex-shrink-0 rounded-full mr-4\" src={ticket.hinhAnh} />\r\n                    <div className=\"flex-grow\">\r\n                        <h2 className=\"text-gray-900 title-font font-medium\">{ticket.tenPhim}</h2>\r\n                        <p className=\"text-gray-500\">{moment(ticket.ngayDat).format('hh:mm A')} - Ngày Chiếu {moment(ticket.ngayDat).format('DD-MM-YYYY')} </p>\r\n                        <p className=\"text-gray-500\">Thời Lượng: {ticket.thoiLuongPhim} phút</p>\r\n                        <p className=\"text-gray-500\">Địa điểm: {danhSachGhe.tenHeThongRap}</p>\r\n                        <p className=\"text-gray-500\">Tên Rạp: {danhSachGhe.tenCumRap} - Ghế {ticket.danhSachGhe.map((ghe, index) => {\r\n                            return <span key={index}> {ghe.tenGhe} </span>\r\n                        })}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }).reverse();\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* Checkout header */}\r\n            <div className=\"checkout-header\">\r\n                <div className=\"left\">\r\n                    <div className=\"backButton\">\r\n                        <CloseOutlined className=\"text-2xl\" onClick={() => {\r\n                            history.push(`/detail/${props.match.params.id}`)\r\n                        }} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"center\">\r\n                    <span className=\"steptitle\">Chọn Ghế</span>\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"account\">\r\n                        <UserProfile className=\"ml-5 rounded-full bg-blue-100\" onClick={() => {\r\n                            history.push('/profile')\r\n                        }}>{userLogin.taiKhoan.substr(0, 1)}</UserProfile>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {/* Checkout body */}\r\n\r\n            <div className=\"seatCheckout\">\r\n                <div className=\"\">\r\n                    <div className=\"top-content flex justify-between w-full\">\r\n                        <div className=\"left-title flex items-center\">\r\n                            {/* <div className=\"logo-cinema\">\r\n                                <img className=\"logo\" src=\"https://s3img.vcdn.vn/123phim/2018/09/f32670fd0eb083c9c4c804f0f3a252ed.png\" alt=\"logo-cinema\" />\r\n                            </div> */}\r\n                            <div className=\"content-cinema\">\r\n                                <p className=\"address\">\r\n                                    <span className=\"p-cinema\">{thongTinPhim.tenPhim}</span>\r\n                                </p>\r\n                                <p className=\"address\">\r\n                                    <span className=\"p-cinema\">{thongTinPhim.tenCumRap}</span>\r\n                                    <span className=\"cinema-name\"></span>\r\n                                </p>\r\n                                <p className=\"hour\">\r\n                                    {thongTinPhim.ngayChieu} - {thongTinPhim.gioChieu} -\r\n                                    {thongTinPhim.tenRap}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"right-title\">\r\n                            <p>Tài Khoản: {userLogin.taiKhoan.length > 15 ? userLogin.taiKhoan.slice(0, 15) + '...' : userLogin.taiKhoan}</p>\r\n                            <p>Số ĐT: {userLogin.soDT}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"seat-map\">\r\n                        <div className=\"panzoom\">\r\n                            <div className=\"screen flex justify-center\">\r\n                                <img src=\"../../Images/screen.png\" alt=\"screen\" style={{ width: '90%' }} />\r\n                            </div>\r\n\r\n                            <div className=\"list-seat\">\r\n                                {renderGhe()}\r\n                            </div>\r\n\r\n                            <div className=\"mt-10 flex justify-center px-10\">\r\n                                <table className=\"divide-y divide-gray-200 w-full text-center\" >\r\n                                    <thead className=\"bg-gray-50 p-5\">\r\n                                        <tr>\r\n                                            <th>Ghế chưa đặt</th>\r\n                                            <th>Ghế đang đặt</th>\r\n                                            <th>Ghế đã được đặt</th>\r\n                                            <th>Ghế vip</th>\r\n                                            <th>Ghế bạn đã đặt</th>\r\n                                            <th>Ghế người khác đang đặt</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                        <tr>\r\n                                            <td><button className=\"ghe text-center\"></button></td>\r\n                                            <td><button className=\"ghe gheDangDat text-center\"></button></td>\r\n                                            <td><button className=\"ghe gheDaDat text-center\"></button></td>\r\n                                            <td><button className=\"ghe gheVip text-center\"></button></td>\r\n                                            <td><button className=\"ghe gheDaDuocDat text-center\"></button></td>\r\n                                            <td><button className=\"ghe gheKhachDat text-center\"></button></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 checkout-footer\">\r\n                <div className=\"total\">\r\n                    <p className=\"seat-chosen\">\r\n                        {_.sortBy(danhSachGheDangDat, ['maGhe']).map((gheDangDat, index) => (\r\n                            <span key={index}>{gheDangDat.tenGhe} - </span>\r\n                        ))}\r\n                        {\r\n                            danhSachGheDangDat.reduce((tongTien, gheDangDat, index) => {\r\n                                return tongTien += gheDangDat.giaVe\r\n                            }, 0).toLocaleString()\r\n                        }đ</p>\r\n                </div>\r\n                <div className={`${classBtnDatVe} continue-button flex items-center justify-center`} onClick={async () => {\r\n                    const thongTinDatVe = new ThongTinDatVe();\r\n                    thongTinDatVe.maLichChieu = props.match.params.id;\r\n                    thongTinDatVe.danhSachVe = danhSachGheDangDat;\r\n\r\n                    console.log(thongTinDatVe);\r\n                    await dispatch(datVeAction(thongTinDatVe))\r\n                    await dispatch(layThongTinTaiKhoanAction());\r\n\r\n                    showModal();\r\n\r\n                }}>\r\n                    Đặt Vé\r\n                </div>\r\n\r\n                <Modal title=\"Lịch Sử Đặt Vé\" visible={isModalVisible} footer={null} onOk={handleOk} onCancel={handleCancel}>\r\n                    <div className=\"scroll__bar__custom w-full\" style={{ height: '400px', overflow: 'auto' }}>\r\n                        {renderTicketItem()}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst UserProfile = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n","import { Fragment, useEffect, useState } from \"react\";\r\nimport { Route } from 'react-router-dom';\r\nimport Footer from \"../HomeTemplate/Layout/Footer/Footer\";\r\nimport Header from \"../HomeTemplate/Layout/Header/Header\";\r\nimport { useWindowSize } from 'react-use';\r\n\r\n\r\n\r\n\r\nexport const DetailTemplate = (props) => { //path, exact, Component\r\n\r\n    const { Component, ...restProps } = props;\r\n\r\n    const { width, height } = useWindowSize();\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    })\r\n\r\n    const renderComponent = (propsRoute) => {\r\n\r\n        if (width <= 420) {\r\n            if (props.ComponentMobile) {\r\n                return <props.ComponentMobile {...propsRoute} />\r\n            }\r\n        } else if (width <= 1024) {\r\n            if (props.ComponentIpad) {\r\n                return <props.ComponentIpad {...propsRoute} />\r\n            }\r\n        }\r\n        else {\r\n            return <props.Component {...propsRoute} />\r\n        }\r\n    }\r\n\r\n\r\n    return <Route {...restProps} render={(propsRoute) => {\r\n        return <Fragment>\r\n            <Header {...propsRoute} />\r\n\r\n            {renderComponent(propsRoute)}\r\n\r\n            <Footer {...propsRoute} />\r\n\r\n        </Fragment>\r\n\r\n    }} />\r\n}","import { CustomCard } from '@tsamantanis/react-glassmorphism';\r\nimport { Rate } from 'antd';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { history } from '../../App';\r\nimport { layThongTinChiTietPhim } from '../../redux/actions/QuanLyRapAction';\r\nimport { Tabs, Row, Col, Menu } from \"antd\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport { USER_LOGIN } from \"../../Util/setting\";\r\nimport { Modal } from 'antd';\r\nimport { Collapse, Select } from 'antd';\r\n\r\nimport './DetailMobile.scss'\r\nconst { TabPane } = Tabs;\r\nconst { Panel } = Collapse;\r\n\r\nexport default function DetailMobile(props) {\r\n\r\n    const filmDetail = useSelector(state => state.QuanLyRapReducer.filmDetail);\r\n    const { heThongRapChieu } = useSelector((state) => state.QuanLyRapReducer);\r\n\r\n\r\n    console.log({ filmDetail })\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const showModal= () => {\r\n      setIsModalVisible(true)\r\n    }\r\n    const handleOk = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n  const getId = (url) => {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url?.match(regExp);\r\n  \r\n    return (match && match[2].length === 11)\r\n      ? match[2]\r\n      : null;\r\n  }\r\n  const convertLink = (url) => {\r\n    return `https://www.youtube.com/embed/${getId(url)}`\r\n  }\r\n  const handleCancel = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n  const getWindowDimensions = () => {\r\n    const { innerWidth: width, innerHeight: height } = window\r\n    return { width, height }\r\n  }\r\n  \r\n  const useWindowDimensions = () => {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions())\r\n  \r\n    useEffect(() => {\r\n       const handleResize = () => setWindowDimensions(getWindowDimensions())\r\n  \r\n       window.addEventListener('resize', handleResize)\r\n  \r\n       return () => window.removeEventListener('resize', handleResize)\r\n  \r\n     }, [])\r\n  \r\n     return windowDimensions\r\n  }\r\n  const { width } = useWindowDimensions();\r\n  \r\n    const dispatch = useDispatch();\r\n\r\n    let { id } = props.match.params;\r\n    const clickMovie = () => {\r\n        Swal.fire({\r\n            icon: 'warning',\r\n            text: 'Bạn chưa đăng nhập! Hãy đăng nhập để tiếp tục',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Đồng Ý!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push('/login');\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n\r\n        //Lấy Thông tin từ đường dẫn\r\n\r\n\r\n        dispatch(layThongTinChiTietPhim(id));\r\n\r\n\r\n    }, [])\r\n    const createRandomNumber = (min, max) => {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ backgroundColor: \"rgb(10, 32, 41)\" }} >\r\n            <div className=\"relative\" style={{ backgroundImage: `url(${filmDetail.hinhAnh})`, backgroundRepeat: 'no-repeat', backgroundSize: 'cover', backgroundPosition: 'top', minHeight: '270px' }}>\r\n                <div onClick={()=>showModal()} className=\"absolute btnPlayTrailer\">\r\n                    <img src=\"https://tix.vn/app/assets/img/icons/play-video.png\" alt=\"play-trailer-button\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"movie-info text-white pl-5 pr-5\">\r\n                <p className=\"opacity-60\">{moment(filmDetail.ngayKhoiChieu).format('dd-mm-yyyy')}</p>\r\n                <p className=\"text-xl text-white\">{filmDetail.tenPhim}</p>\r\n                <p className=\"text-white text-xs opacity-80\">{filmDetail.moTa.length > 200 ? filmDetail.moTa.slice(0, 200) + '...' : filmDetail.moTa}</p>\r\n\r\n                <div className=\"star-icon flex justify-between\">\r\n\r\n                    <Rate disabled allowHalf defaultValue={filmDetail.danhGia / 2} />\r\n                    <h3 className=\"text-sm text-red-500 mt-2 inline-block\">{filmDetail.danhGia}/10 Đánh giá</h3>\r\n                </div>\r\n            </div>\r\n\r\n            {/* put film schedule code below this line */}\r\n            <div style={{paddingTop: 15}}>\r\n            <Collapse  expandIconPosition=\"right\">\r\n                            {filmDetail.heThongRapChieu?.map((heThongRap, index) => {\r\n                                return  <Panel header={<div style={{display:'flex', alignItems: 'center'}}>\r\n                                <img width={50} height={50} src={heThongRap.logo}  />\r\n                                <div style={{flex:1, paddingLeft: 24}}>{heThongRap.maHeThongRap}</div>\r\n                            </div>} key={index} >\r\n                                    <div className=\"tab-scroll-bar\">\r\n                                        {heThongRap.cumRapChieu?.map((cumRap, index) => {\r\n                                            return <div className=\"mt-10\" key={index}>\r\n                                                <div className=\"flex\">\r\n                                                    <img className=\"rounded-md\" src={cumRap.hinhAnh} alt={cumRap.tenCumRap} style={{ width: 50, height: 50 }} />\r\n\r\n                                                    <div className=\"ml-2\">\r\n                                                        <p className=\"text-xl mb-2\">{cumRap.tenCumRap}</p>\r\n                                                        <p className=\"text-xs opacity-80\">{cumRap.diaChi}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex flex-wrap\">\r\n                                                    {cumRap.lichChieuPhim?.slice(0, 12).map((lichChieu, index) => {\r\n                                                        if (localStorage.getItem(USER_LOGIN)) {\r\n                                                            return <NavLink className=\"col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" to={`/checkout/${lichChieu.maLichChieu}`} key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </NavLink>\r\n                                                        } else {\r\n                                                            return <span onClick={clickMovie} className=\"cursor-pointer col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </span>\r\n                                                        }\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        })}\r\n                                    </div>\r\n                                </Panel>\r\n                            })}\r\n                        </Collapse>\r\n            </div>\r\n            <Modal visible={isModalVisible}    centered\r\n          style={{ width: (width / 100) }} footer onOk={handleOk} onCancel={handleCancel}>\r\n                <iframe style={{ width: '100%'}} height=\"400px\" src={convertLink(filmDetail?.trailer)}></iframe>\r\n      </Modal>\r\n        </div>\r\n    )\r\n}\r\n","import { CustomCard } from '@tsamantanis/react-glassmorphism';\r\nimport { Rate } from 'antd';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { history } from '../../App';\r\nimport { layThongTinChiTietPhim } from '../../redux/actions/QuanLyRapAction';\r\nimport { USER_LOGIN } from \"../../Util/setting\";\r\nimport { Tabs, } from 'antd';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Modal } from 'antd';\r\nimport './DetailIpad.scss'\r\nconst { TabPane } = Tabs;\r\nexport default function DetailIpad(props) {\r\n\r\n    const filmDetail = useSelector(state => state.QuanLyRapReducer.filmDetail);\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const showModal= () => {\r\n      setIsModalVisible(true)\r\n    }\r\n    const handleOk = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n  const getId = (url) => {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url?.match(regExp);\r\n  \r\n    return (match && match[2].length === 11)\r\n      ? match[2]\r\n      : null;\r\n  }\r\n  const convertLink = (url) => {\r\n    return `https://www.youtube.com/embed/${getId(url)}`\r\n  }\r\n  const handleCancel = () => {\r\n      setIsModalVisible(false);\r\n  };\r\n  const getWindowDimensions = () => {\r\n    const { innerWidth: width, innerHeight: height } = window\r\n    return { width, height }\r\n  }\r\n  \r\n  const useWindowDimensions = () => {\r\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions())\r\n  \r\n    useEffect(() => {\r\n       const handleResize = () => setWindowDimensions(getWindowDimensions())\r\n  \r\n       window.addEventListener('resize', handleResize)\r\n  \r\n       return () => window.removeEventListener('resize', handleResize)\r\n  \r\n     }, [])\r\n  \r\n     return windowDimensions\r\n  }\r\n  const { width } = useWindowDimensions();\r\n  \r\n    console.log({ filmDetail })\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    let { id } = props.match.params;\r\n    const clickMovie = () => {\r\n        Swal.fire({\r\n            icon: 'warning',\r\n            text: 'Bạn chưa đăng nhập! Hãy đăng nhập để tiếp tục',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Đồng Ý!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push('/login');\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n\r\n        //Lấy Thông tin từ đường dẫn\r\n\r\n\r\n        dispatch(layThongTinChiTietPhim(id));\r\n\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ backgroundImage: `url(${filmDetail.hinhAnh})`, backgroundRepeat: 'no-repeat', backgroundSize: '100%', backgroundPosition: 'center', minHeight: '100vh' }}>\r\n            <CustomCard\r\n                style={{ paddingTop: '150px', minHeight: '100vh', borderRadius: '0' }}\r\n                effectColor=\"#0a2029\" // required\r\n                color=\"#14AEFF\" // default color is white\r\n                blur={15} // default blur value is 10px\r\n                borderRadius={0} // default border radius value is 10px\r\n            >\r\n                <div className=\"grid grid-cols-12\">\r\n                    <div className=\"col-span-8 col-start-1\">\r\n                        <div className=\"grid grid-cols-3\">\r\n                            <div onClick={()=>showModal()}  className=\"col-span-1 h-60\" >\r\n                                <img src={filmDetail.hinhAnh} alt={filmDetail.tenPhim} />\r\n                            </div>\r\n\r\n\r\n                            <div className=\"col-span-2 flex flex-col justify-center ml-10\">\r\n                                <p className=\"text-white\">{moment(filmDetail.ngayKhoiChieu).format('dd-mm-yyyy')}</p>\r\n                                <p className=\"text-xl text-white\">{filmDetail.tenPhim}</p>\r\n                                <p className=\"text-white text-xs\">{filmDetail.moTa.length > 200 ? filmDetail.moTa.slice(0, 200) + '...' : filmDetail.moTa}</p>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-span-4 col-start-10 flex flex-col justify-center items-center\">\r\n                        <div className={`c100 p${filmDetail.danhGia * 10} big`}>\r\n                            <span classNam=\"text-white\">{filmDetail.danhGia * 10}%</span>\r\n                            <div className=\"slice\">\r\n                                <div className=\"bar \" />\r\n                                <div className=\"fill \" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-center\">\r\n                            <div className=\"star-icon\">\r\n                                {/* <Rate style={{ color: '#ffe066 !important' }} allowHalf defaultValue={filmDetail.danhGia / 2} /> */}\r\n\r\n                                <Rate disabled allowHalf defaultValue={filmDetail.danhGia / 2} />\r\n                            </div>\r\n                            <h3 className=\"text-sm text-red-500\">{filmDetail.danhGia}/10 Đánh giá</h3>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n        \r\n                {/* put film schedule code below this line */}\r\n                <div className=\"flex bg-white p-5 mt-10 \" style={{}}>\r\n                    <div>\r\n                        <Tabs tabPosition={'left'}>\r\n                            {filmDetail?.heThongRapChieu.map((heThongRap, index) => {\r\n                                return <TabPane tab={<div className=\"flex items-center\">\r\n                                    <img src={heThongRap.logo} width={50} className=\"rounded-full\" alt={heThongRap.tenHeThongRap} />\r\n                                    <h3 className=\"ml-5\">{heThongRap.tenHeThongRap}</h3>\r\n                                </div>}\r\n                                    key={index}>\r\n                                    <div className=\"tab-scroll-bar\">\r\n                                        {heThongRap.cumRapChieu?.map((cumRap, index) => {\r\n                                            return <div className=\"mt-10\" key={index}>\r\n                                                <div className=\"flex\">\r\n                                                    <img className=\"rounded-md\" src={cumRap.hinhAnh} alt={cumRap.tenCumRap} style={{ width: 50, height: 50 }} />\r\n\r\n                                                    <div className=\"ml-2\">\r\n                                                        <p className=\"text-xl mb-2\">{cumRap.tenCumRap}</p>\r\n                                                        <p className=\"text-xs opacity-80\">{cumRap.diaChi}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex flex-wrap\">\r\n                                                    {cumRap.lichChieuPhim?.slice(0, 12).map((lichChieu, index) => {\r\n                                                        if (localStorage.getItem(USER_LOGIN)) {\r\n                                                            return <NavLink className=\"col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" to={`/checkout/${lichChieu.maLichChieu}`} key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </NavLink>\r\n                                                        } else {\r\n                                                            return <span onClick={clickMovie} className=\"cursor-pointer col-span-1 mt-5 mr-5 w-20 px-2 py-3 bg-white text-center hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded shadow hover:text-black\" key={index}>\r\n                                                                {moment(lichChieu.ngayChieuGioChieu).format('hh:mm A')}\r\n                                                            </span>\r\n                                                        }\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        })}\r\n                                    </div>\r\n                                </TabPane>\r\n                            })}\r\n                        </Tabs>\r\n                    </div>\r\n                </div>\r\n            </CustomCard>\r\n    <Modal visible={isModalVisible}    centered\r\n          style={{ width: (width / 100) }} footer onOk={handleOk} onCancel={handleCancel}>\r\n                <iframe style={{ width: '100%'}} height=\"400px\" src={convertLink(filmDetail?.trailer)}></iframe>\r\n      </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import \"./App.css\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { Router } from 'react-router';\r\nimport { HomeTemplate } from \"./templates/HomeTemplate/HomeTemplate\";\r\nimport Home from \"./pages/Home/Home\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Contact from \"./pages/Contact/Contact\";\r\nimport News from \"./pages/News/News\";\r\nimport Login from \"./pages/Login/Login\";\r\n// import Register from \"./pages/Register/Register\";\r\nimport Detail from \"./pages/Detail/Detail\";\r\n// import CheckoutTemplate from \"./templates/CheckoutTemplate/CheckoutTemplate\";\r\nimport Checkout from \"./pages/Checkout/Checkout\";\r\n\r\n// import { Suspense, lazy } from 'react';\r\nimport CheckoutTemplate from \"./templates/CheckoutTemplate/CheckoutTemplate\";\r\nimport { UserTemplate } from \"./templates/UserTemplate/UserTemplate\";\r\nimport Loading from \"./components/Loading/Loading\";\r\nimport Profile from \"./pages/Profile/Profile\";\r\nimport { AdminTemplate } from \"./templates/AdminTemplate/AdminTemplate\";\r\nimport Dashboard from \"./pages/Admin/Dashboard/Dashboard\";\r\nimport Films from \"./pages/Admin/Films/Films\";\r\nimport Users from \"./pages/Admin/User/Users\";\r\nimport Showtime from \"./pages/Admin/Showtime/Showtime\";\r\nimport AddNew from \"./pages/Admin/Films/AddNew/AddNew\";\r\nimport Edit from \"./pages/Admin/Films/Edit/Edit\";\r\nimport AddNewUser from \"./pages/Admin/User/AddNew/AddNew\";\r\nimport EditUser from \"./pages/Admin/User/Edit/Edit\";\r\nimport PageError from \"./pages/PageError/PageError\";\r\nimport UserBooked from \"./pages/Admin/UserBooked/UserBooked\";\r\nimport FilmShedule from \"./pages/Admin/FilmSchedule/FilmsSchedule\";\r\nimport CheckoutMobile from \"./pages/Checkout/CheckoutMobile\";\r\nimport CheckoutIpad from \"./pages/Checkout/CheckoutIpad\";\r\nimport { DetailTemplate } from \"./templates/DetailTemplate/DetailTemplate\";\r\nimport DetailMobile from \"./pages/Detail/DetailMobile\";\r\nimport DetailIpad from \"./pages/Detail/DetailIpad\";\r\n\r\n\r\n// const CheckoutTemplateLazy = lazy(() => import('./templates/CheckoutTemplate/CheckoutTemplate'));\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nfunction App() {\r\n  return (\r\n    <Router history={history}>\r\n      <Loading />\r\n\r\n      <Switch>\r\n        <HomeTemplate path=\"/home\" exact Component={Home} />\r\n        <HomeTemplate path=\"/contact\" exact Component={Contact} />\r\n        <HomeTemplate path=\"/news\" exact Component={News} />\r\n        {/* <HomeTemplate path=\"/detail/:id\" exact Component={Detail} /> */}\r\n        <DetailTemplate path=\"/detail/:id\" exact Component={Detail} ComponentMobile={DetailMobile} ComponentIpad={DetailIpad} />\r\n\r\n        {/* <Route path=\"/register\" exact Component={Register} /> */}\r\n\r\n        <CheckoutTemplate path=\"/checkout/:id\" exact Component={Checkout} ComponentMobile={CheckoutMobile} ComponentIpad={CheckoutIpad} />\r\n\r\n        <UserTemplate path=\"/login\" exact Component={Login} />\r\n\r\n        <HomeTemplate path=\"/profile\" exact Component={Profile} />\r\n\r\n        <AdminTemplate path=\"/admin\" exact Component={Dashboard} />\r\n        <AdminTemplate path=\"/admin/films\" exact Component={Films} />\r\n        <AdminTemplate path=\"/admin/films/addnew\" exact Component={AddNew} />\r\n        <AdminTemplate path=\"/admin/films/edit/:id\" exact Component={Edit} />\r\n        <AdminTemplate path=\"/admin/films/showtime/:id/:tenphim\" exact Component={Showtime} />\r\n        <AdminTemplate path=\"/admin/films-shedule\" exact Component={FilmShedule} />\r\n        <AdminTemplate path=\"/admin/users\" exact Component={Users} />\r\n        <AdminTemplate path=\"/admin/users/addnew\" exact Component={AddNewUser} />\r\n        <AdminTemplate path=\"/admin/users/edit/:taiKhoan\" exact Component={EditUser} />\r\n        <AdminTemplate path=\"/admin/users/booked/:taiKhoan\" exact Component={UserBooked} />\r\n\r\n\r\n        {/* <AdminTemplate path=\"/admin/showtime\" exact Component={Showtime}/> */}\r\n\r\n\r\n\r\n\r\n        {/* <Suspense fallback={<h1>Loading...</h1>}>\r\n          <CheckoutTemplateLazy path=\"/checkout/:id\" exact Component={Checkout} />\r\n        </Suspense> */}\r\n\r\n        <HomeTemplate path=\"/\" exact Component={Home} />\r\n        <Route parth=\"*\" component={PageError} />\r\n      </Switch>\r\n\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { SET_CAROUSEL } from \"../actions/types/CarouselType\";\r\n\r\nconst stateDefault = {\r\n  arrImg: [\r\n    {\r\n      maBanner: 1,\r\n      maPhim: 1282,\r\n      hinhAnh: \"http://movieapinew.cyberlearn.vn/hinhanh/ban-tay-diet-quy.png\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport const CarouselReducer = (state = stateDefault, action) => {\r\n  switch (action.type) {\r\n\r\n    case SET_CAROUSEL: {\r\n      state.arrImg = action.arrImg;\r\n      return {...state};\r\n    }\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n","import { SET_DANH_SACH_PHIM, SET_PHIM_DANG_CHIEU, SET_PHIM_SAP_CHIEU, SET_THONG_TIN_PHIM } from \"../actions/types/QuanLyPhimType\";\r\n\r\nconst stateDefault = {\r\n  arrFilm: [\r\n    {\r\n      maPhim: 4893,\r\n      tenPhim: \"Tenett 2\",\r\n      biDanh: \"tenett-2\",\r\n      trailer: \"https://www.youtube.com/embed/L3pk_TBkihU\",\r\n      hinhAnh: \"http://movieapinew.cyberlearn.vn/hinhanh/tenet_gp01.jpg\",\r\n      moTa: \"Tenet là một bộ phim hành động - giật gân và khoa học viễn tưởng phát hành năm 2020 của Mỹ, do Christopher Nolan đạo diễn kiêm biên kịch. Phim có sự tham gia của John David Washington, Robert Pattinson, Elizabeth Debicki, Dimple Kapadia, Michael Caine, cùng Kenneth Branagh.\",\r\n      maNhom: \"GP01\",\r\n      ngayKhoiChieu: \"2021-08-29T00:00:00\",\r\n      danhGia: 10,\r\n      hot: true,\r\n      dangChieu: false,\r\n      sapChieu: true,\r\n    },\r\n  ],\r\n\r\n  dangChieu: true,\r\n  sapChieu: true,\r\n\r\n  arrFilmDefault: [],\r\n  filmDetail: {},\r\n\r\n  thongTinPhim:{}\r\n\r\n  \r\n};\r\n\r\n\r\nexport const QuanLyPhimReducer = (state=stateDefault, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_DANH_SACH_PHIM : {\r\n            state.arrFilm = action.arrFilm;\r\n            state.arrFilmDefault = state.arrFilm;\r\n            return {...state}\r\n        }\r\n\r\n        case SET_PHIM_DANG_CHIEU: {\r\n          state.dangChieu = !state.dangChieu;\r\n          state.arrFilm = state.arrFilmDefault.filter(film => film.dangChieu === state.dangChieu);\r\n          return {...state};\r\n        }\r\n\r\n        case SET_PHIM_SAP_CHIEU: {\r\n          state.sapChieu = !state.sapChieu;\r\n          state.arrFilm = state.arrFilmDefault.filter(film => film.sapChieu === state.sapChieu);\r\n          return {...state};\r\n        }\r\n\r\n        case SET_THONG_TIN_PHIM: {\r\n          state.thongTinPhim = action.thongTinPhim;\r\n          return {...state};\r\n        }\r\n\r\n\r\n        default: return {...state}\r\n    }\r\n}\r\n","import { SET_CHI_TIET_PHIM, SET_HE_THONG_RAP_CHIEU } from \"../actions/types/QuanLyRapType\"\r\n\r\n\r\nconst stateDefault = {\r\n    heThongRapChieu: [],\r\n\r\n    filmDetail: {}\r\n}\r\n\r\n\r\nexport const QuanLyRapReducer = (state= stateDefault, action ) => {\r\n    switch (action.type) {\r\n\r\n\r\n        case SET_HE_THONG_RAP_CHIEU: {\r\n            state.heThongRapChieu = action.heThongRapChieu;\r\n\r\n            return {...state}\r\n        }\r\n\r\n        case SET_CHI_TIET_PHIM: {\r\n            state.filmDetail = action.filmDetail;\r\n\r\n            return {...state}\r\n        }\r\n\r\n    \r\n        default: return {...state}\r\n    }\r\n}","import { ACCESS_TOKEN, USER_LOGIN } from \"../../Util/setting\";\r\nimport { DANG_KY_ACTION, DANG_NHAP_ACTION, DANG_NHAP_THAT_BAI_ACTION, SET_DANH_SACH_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG, SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN } from \"../actions/types/QuanLyNguoiDungType\"\r\n\r\nlet user = {};\r\n\r\nif (localStorage.getItem(USER_LOGIN)) {\r\n    user = JSON.parse(localStorage.getItem(USER_LOGIN));\r\n}\r\n\r\n\r\nconst stateDefault = {\r\n    userLogin: user,\r\n\r\n    thongTinNguoiDung: {},\r\n    danhSachNguoiDung: [],\r\n    thongTinNguoiDungTheoTaiKhoan: {},\r\n    errors: '',\r\n\r\n}\r\n\r\n\r\nexport const QuanLyNguoiDungReducer = (state = stateDefault, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case DANG_NHAP_ACTION: {\r\n            const { thongTinDangNhap } = action;\r\n            localStorage.setItem(USER_LOGIN, JSON.stringify(thongTinDangNhap));\r\n            if( thongTinDangNhap.accessToken  ) {\r\n                localStorage.setItem(ACCESS_TOKEN, thongTinDangNhap.accessToken);\r\n            }\r\n            return { ...state, userLogin: thongTinDangNhap };\r\n        }\r\n\r\n        case 'GET_TOKEN_ACTION': {\r\n            const { token } = action;\r\n            localStorage.setItem(ACCESS_TOKEN, token.accessToken);\r\n            return { ...state};\r\n        }\r\n\r\n        // case DANG_KY_ACTION: {\r\n        //     const { thongTinDangKy } = action;\r\n        //     return { ...state, userLogin: thongTinDangKy };\r\n        // }\r\n\r\n        case DANG_NHAP_THAT_BAI_ACTION: {\r\n            return { ...state, errors: action.payload };\r\n        }\r\n\r\n        case SET_THONG_TIN_NGUOI_DUNG: {\r\n            state.thongTinNguoiDung = action.thongTinNguoiDung;\r\n            return { ...state }\r\n        }\r\n        case SET_THONG_TIN_NGUOI_DUNG_THEO_TAI_KHOAN: {\r\n            state.thongTinNguoiDungTheoTaiKhoan = action.thongTinNguoiDungTheoTaiKhoan;\r\n            return { ...state }\r\n        }\r\n        case SET_DANH_SACH_NGUOI_DUNG: {\r\n            state.danhSachNguoiDung = action.danhSachNguoiDung;\r\n            console.log('DanhSachNguoiDung', state.danhSachNguoiDung)\r\n            return { ...state }\r\n        }\r\n\r\n\r\n        default: return { ...state }\r\n    }\r\n}","\r\n\r\nexport class ThongTinPhim {\r\n    maLichChieu = '';\r\n    tenCumRap = '';\r\n    tenRap = '';\r\n    diaChi = '';\r\n    tenPhim = '';\r\n    hinhAnh = '';\r\n    ngayChieu = '';\r\n    gioChieu = '';\r\n}\r\n\r\nexport class Ghe {\r\n    maGhe = '';\r\n    tenGhe = '';\r\n    maRap = '';\r\n    loaiGhe = '';\r\n    stt = '';\r\n    giaVe = '';\r\n    daDat = '';\r\n    taiKhoanNguoiDat = '';\r\n\r\n}\r\n\r\nexport class ThongTinLichChieu {\r\n\r\n    thongTinPhim = new ThongTinPhim();\r\n\r\n    danhSachGhe = [];\r\n    \r\n}\r\n","import { ThongTinLichChieu } from \"../../_core/models/ThongTinPhongVe\";\r\nimport { CHANGE_TAB_ACTIVE, CHUYEN_TAB, DAT_GHE, DAT_VE, DAT_VE_HOAN_TAT, SET_CHI_TIET_PHONG_VE } from \"../actions/types/QuanLyDatVeType\"\r\n\r\n\r\nconst stateDefault = {\r\n    chiTietPhongVe: new ThongTinLichChieu(),\r\n    danhSachGheDangDat: [],\r\n\r\n    tabActive: '1',\r\n\r\n    // {\r\n    //     daDat: false,\r\n    //     giaVe: 80000,\r\n    //     loaiGhe: \"Thuong\",\r\n    //     maGhe: 55401,\r\n    //     maRap: 501,\r\n    //     stt: \"01\",\r\n    //     taiKhoanNguoiDat: null,\r\n    //     tenGhe: \"01\"\r\n    // }\r\n\r\n    danhSachGheKhachDat: [],\r\n}\r\n\r\nexport const QuanLyDatVeReducer = (state = stateDefault, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_CHI_TIET_PHONG_VE: {\r\n            state.chiTietPhongVe = action.chiTietPhongVe;\r\n            // state.danhSachGheDangDat = [];\r\n            return { ...state };\r\n        }\r\n\r\n        case DAT_VE: {\r\n            //cập nhật danh sách ghế đang đặt\r\n\r\n            let danhSachGheCapNhat = [...state.danhSachGheDangDat];\r\n\r\n            let index = danhSachGheCapNhat.findIndex(gheDangDat => gheDangDat.maGhe === action.gheDuocChon.maGhe);\r\n\r\n            if (index !== -1) {\r\n                danhSachGheCapNhat.splice(index, 1);\r\n            } else {\r\n                danhSachGheCapNhat.push(action.gheDuocChon);\r\n            }\r\n\r\n            console.log(action)\r\n            return { ...state, danhSachGheDangDat: danhSachGheCapNhat }\r\n        }\r\n\r\n        case DAT_VE_HOAN_TAT: {\r\n            state.danhSachGheDangDat = [];\r\n            return { ...state }\r\n        }\r\n\r\n        case CHUYEN_TAB: {\r\n            state.tabActive = '2';\r\n            return { ...state }\r\n        }\r\n\r\n        case CHANGE_TAB_ACTIVE: {\r\n            state.tabActive = action.number;\r\n            return { ...state }\r\n        }\r\n\r\n        case DAT_GHE: {\r\n            state.danhSachGheKhachDat = action.payload;\r\n            return { ...state };\r\n        }\r\n\r\n        default: return { ...state }\r\n    }\r\n}","const stateDefault = {\r\n    listFilmShedule: [],\r\n    listFilmSheduleCinema:{}\r\n}\r\n\r\nexport const QuanLyLichChieuPhimReducer = (state=stateDefault, action) => {\r\n    switch(action.type){\r\n        \r\n        case 'GET_FILM_SHEDULE':{\r\n            let arrayListFilmShedule = [...state.listFilmShedule, action.listFilmShedule];\r\n            // arrayListCinema = [...action.listCinemas];\r\n            state.listFilmShedule = arrayListFilmShedule;\r\n            return{...state};\r\n        }\r\n        case 'RESET_LIST_FILM_SHEDULE':{\r\n            state.listFilmShedule = []\r\n            return{...state};\r\n        }\r\n        case 'GET_FILM_SHEDULE_BY_CINEMA':{\r\n            state.listFilmSheduleCinema = action.listFilmSheduleCinema;\r\n            return {...state};\r\n        }\r\n        default:return {...state}\r\n    }\r\n}","import { DISPLAY_LOADING, HIDE_LOADING } from \"../actions/types/LoadingType\";\r\n\r\n\r\nconst stateDefault = {\r\n    isLoading: false\r\n}\r\n\r\n\r\nexport const LoadingReducer  =  (state = stateDefault, action) =>{\r\n    switch (action.type) {\r\n        case DISPLAY_LOADING: {\r\n            state.isLoading = true;\r\n            return {...state};\r\n        }\r\n\r\n        case HIDE_LOADING: {\r\n            state.isLoading = false;\r\n            return {...state}\r\n        }\r\n    \r\n        default: return {...state}\r\n    }\r\n}","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {CarouselReducer} from './reducers/CarouselReducer';\r\nimport {QuanLyPhimReducer} from './reducers/QuanLyPhimReducer';\r\nimport {QuanLyRapReducer} from './reducers/QuanLyRapReducer';\r\nimport {QuanLyNguoiDungReducer } from './reducers/QuanLyNguoiDungReducer';\r\nimport {QuanLyDatVeReducer} from './reducers/QuanLyDatVeReducer';\r\nimport {QuanLyLichChieuPhimReducer} from './reducers/QuanLyLichChieuPhimReducer';\r\nimport {LoadingReducer} from './reducers/LoadingReducer'\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    CarouselReducer,\r\n    QuanLyPhimReducer,\r\n    QuanLyRapReducer,\r\n    QuanLyNguoiDungReducer,\r\n    QuanLyDatVeReducer,\r\n    LoadingReducer,\r\n    QuanLyLichChieuPhimReducer,\r\n    //app State\r\n})\r\n\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './scss/style.scss'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/configStore';\nimport \"antd/dist/antd.css\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport { DOMAIN } from './Util/setting';\n\n\n//import websocket với signalR\nimport * as signalR from '@aspnet/signalr';\n\nexport const connection = new signalR.HubConnectionBuilder().withUrl(`${DOMAIN}/DatVeHub`).configureLogging(signalR.LogLevel.Information).build();\n\n\n\nconnection.start().then(function () {\n  ReactDOM.render(\n\n    <Provider store={store}>\n      <App />\n    </Provider>,\n\n    document.getElementById('root')\n  );\n}).catch(errors => (console.log(errors)))\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}